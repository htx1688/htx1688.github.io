<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          MEV 订单流：区块建设者中的王者 - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="在这篇文章中，我们将讨论建设者如何将他们的订单流作为武器，它对以太坊链带来的风险，并窥视摆在我们面前的潜在未来。" />
<meta name="keywords" content="MEV" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/42212/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="MEV 订单流：区块建设者中的王者" />
<meta property="og:description" content="在这篇文章中，我们将讨论建设者如何将他们的订单流作为武器，它对以太坊链带来的风险，并窥视摆在我们面前的潜在未来。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/42212/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-09-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-09-02T00:00:00+00:00" />

<meta itemprop="name" content="MEV 订单流：区块建设者中的王者">
<meta itemprop="description" content="在这篇文章中，我们将讨论建设者如何将他们的订单流作为武器，它对以太坊链带来的风险，并窥视摆在我们面前的潜在未来。"><meta itemprop="datePublished" content="2022-09-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-09-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="9546">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MEV 订单流：区块建设者中的王者"/>
<meta name="twitter:description" content="在这篇文章中，我们将讨论建设者如何将他们的订单流作为武器，它对以太坊链带来的风险，并窥视摆在我们面前的潜在未来。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">MEV 订单流：区块建设者中的王者</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2022-09-02">
      2022-09-02
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 9546 字 -
        预计阅读 20 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>文章作者：noxx</p>
<p>合并之后，区块建设者的皇室战役。距离合并仅有2周多时间，它将永远改变以太坊MEV的格局。</p>
<p>区块建设者，一个在合并后的世界新实体，即将进入一个残酷的皇家战斗游戏。</p>
<p>而他们选择的武器是——订单流。</p>
<p>在这篇文章中，我们将讨论建设者如何将他们的订单流作为武器，它对以太坊链带来的风险，并窥视摆在我们面前的潜在未来。</p>
<p><strong>游戏状态：合并前</strong></p>
<p>在我们看一下合并后事情会如何发展之前，我们最好先了解一下目前的情况。</p>
<p>下面的图片显示了一个用户的Uniswap交易，它强调了交易从用户到矿工的过程中所涉及的角色，并显示了交易进入链上的一些路径。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_1924d37zlv.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p><strong>1.</strong>  一个用户有一些 &ldquo;意图&rdquo;，在这个例子中，意图是在Uniswap上交易一些代币。</p>
<p><strong>2.</strong>  用户导航到他想使用的应用程序，并使用他的钱包提供商进行连接，在这个例子中，我们假设他使用Metamask。</p>
<p><strong>3.</strong>  用户指定了他想做的交易 10 ETH 买入 20,000 DAI。应用程序构建了一些调用数据供他签名（0x5ae4&hellip;000），从而创建一个代表他的交易的交易，这个已签署的数据将被发送到下一节的RPC端点。</p>
<p><strong>4.</strong>  我们假设用户没有改变Metamask上的任何默认设置，特别是以太坊网络的RPC端点。</p>
<p>如果是这样的话，RPC端点将被设置为https://mainnet.infura.io/v3/。这意味着交易将被发送到Infura。</p>
<p>Block unicorn注释：</p>
<p>Infura：通俗一点讲，Infura 就是一个可以让你的DApp 快速接入以太坊的平台，不需要本地运行以太坊节点。</p>
<p>RPC：远程过程调用，它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。（通俗解释，例如，今天你出去上班了，忘记洗衣服，你这时打个电话叫你家人帮你把衣服洗了，这就是远程过程调用）</p>
<p><strong>5.</strong>  然后，Infura会将此交易传播到以太坊网络的其他节点。当交易在每个节点登陆时，它们会被放置在公共mempool中，这是一个交易在提交到链上之前的暂存区域。该交易将被放在这里，直到它被排序成一个区块。</p>
<p><strong>6.</strong>  矿工通过在他们的内存池中选择和排序交易来创建区块。通常情况下，他们会优先考虑高 Gas（交易费用）交易。</p>
<p><strong>7.</strong>  这个用户可能不知道，另一群被称为搜索者的行为者正在监控内存池。他们正在寻找有价值的交易。当他们看到用户的ETH→DAI交易时，他们的机器人会将其夹在中间，给他一个最差的执行价格，而他们自己则获得最大的利润。</p>
<p><strong>8.</strong>  它们通过向Flashbots中继器提交事务包来做到这一点，在Flashbots中，它们被保证是区块的顶部，包中的所有事务要么执行，要么一个都不执行。</p>
<p><strong>9.</strong>  这些区块包被Flashbots合并成一大堆，并发送给白名单上的矿工，让他们被纳入区块的顶部（这样就可以让矿工快速打包他们的交易）。</p>
<p><strong>10.</strong>  如果我们回顾一下我们旅程的开始，用户可以在Metamask设置中改变他的RPC端点。他可以切换到一个私有RPC端点，一个绕过mempool的端点。一个私有RPC端点的例子是Flashbots保护，他们保证没有抢跑机器人或三明治攻击，使你能够避开黑暗森林中的怪物。</p>
<p><strong>11.</strong>  私人RPC被设置为路由到指定的矿工，在那里就可以做到对交易达成协议。这些矿工通常会有一个自定义的客户端（即mev-geth），这使他们能够拥有一个私人的内存池，不会广播发送到那里的交易。矿工们尽可能多地提取 &ldquo;道德 &ldquo;价值（即通过反向运行），并在区块中排序。</p>
<p>这样做的目的是为了向你展示已经存在的订单流。我强调了 &ldquo;用户公共订单流&rdquo;，它来自公共内存。&ldquo;用户私人订单流&rdquo;，它来自私人RPC端点，&ldquo;搜索者订单流&rdquo;，它来自搜索者拍卖/中继器。</p>
<p><strong>公共用户订单流对每个人都可用。</strong></p>
<p>另一方面，搜索者和私人用户的订单流对建立这些私人中继器/RPC终端的实体是 &ldquo;专属 &ldquo;的。</p>
<p>正是这种专属订单流具有改变游戏的能力。</p>
<p><strong>合并后的世界</strong></p>
<p>好吧，这是在合并前的世界里发生的事情，但在合并后的世界里会发生什么呢？为了让我们理解，在合并时有两个重要的变化发生，我们需要回顾一下。</p>
<p>PBS，提议者构建者分离和盲区的概念，让我们从PBS开始。</p>
<h3 id="提议生成器分离-pbs"><strong>提议生成器分离 (PBS)</strong></h3>
<p>PBS是将区块建设者和区块提议分开的能力，让我们逐一来看一看。</p>
<p><strong>区块建设者</strong></p>
<p>区块构建涉及到在一个区块内对交易进行排序/排序。这是一场游戏，硬件、算法和信息决定你的成功。</p>
<p>这是一个竞争性的游戏，这意味着你需要升级你的硬件，改进你的算法，并获得最好的订单流（信息），以保持在游戏中。</p>
<p>这些要求意味着区块建设有很高的进入门槛。</p>
<p><strong>区块提议</strong></p>
<p>区块提案要求你有一些质押32 ETH和运行一些客户端软件。目前这个软件的硬件要求很低，每个参与者都可以维护他们自己的验证器。</p>
<p>你竞争的唯一方法是投入更多ETH，当你增加验证器节点时，计算需求不会增加太多。</p>
<p>虽然初始质押32 ETH可能会让许多人望而却步，但计算要求一直保持在足够低的水平，以便个人利益相关者在区块提议中竞争。</p>
<p><strong>MEV区块</strong></p>
<p>让我们先思考一下，如果验证器同时构建和提议代码区块，会发生什么情况。</p>
<p>单独的验证者无法获得构建MEV区块所需的硬件、算法和信息，因此只能构建一个普通的区块。这个普通的区块使用执行客户端默认的排序逻辑，按Gas价格进行交易排序。</p>
<p>MEV验证者将是更大的现有实体，他们可以获得硬件、算法和信息，将能够生产这些更有价值的基于MEV的区块。</p>
<p><strong>MEV 收益率</strong></p>
<p>据估计，MEV可以赚取验证者一年中60%的收益。这意味着，如果我们的个人验证者用他们的香草区块每年赚取4%，那么MEV验证者用他们的MEV区块将赚取10%。</p>
<p>下图显示了随着时间的推移，这种收益率差异会对个人验证者造成什么影响。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_hdt5bym848.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p><strong>让我们捋一捋这里发生了什么：</strong></p>
<p><strong>1. 这个方程式代表了个人验证节点的复利。</strong></p>
<p>a. 1.04代表4%的年收益率。</p>
<p>b. x代表该节点已经运行的年数。</p>
<p>c. 注意在现实中，质押不会自动复合你的奖励，你需要拿出你赚到的钱，并创建一个新的验证节点/购买更多的流动质押代币。</p>
<p><strong>2. 这个方程式代表了MEV验证器的复利。</strong></p>
<p>? 1.10代表10%的年收益率。</p>
<p><strong>3. 该图显示了30年内两个验证节点的收益情况。</strong> 我们可以清楚地看到，随着收益率差异的加剧，MEV验证器的表现开始大大超过了个人验证器。随着时间的推移，这种情况会以更快的速度变得更糟。</p>
<p><strong>4. 在30年的阶段</strong> ，个人验证者已经赚取了2.25倍的原始投资，而MEV验证者则赚取了16.5倍。</p>
<p><strong>a.</strong>  MEV验证者已经能够获得这些利润，并以比单个验证节点更快的速度推出新的验证者，从而减少了他们的市场份额。</p>
<p><strong>b.</strong>  很明显，如果整个验证器组被分成50/50，一半是个人验证节点，另一半是MEV验证节点，那么MEV验证节点很快就会在验证节点组中获得主导地位。</p>
<p>这张图向我们展示了如果区块建设和块建提议放在一起，MEV可以有多大的集中化力量。</p>
<p>现在您可能会想，如果您将角色分开，那么您只是将这种中心化的力量转移到构建者而不是验证者，你是对的。</p>
<p>PBS的设计中隐含的意思是，MEV是一种集中力量，但我们宁愿集中发生在构建者层面，而不是验证者层面。</p>
<p>通过PBS，一个新的实体正式进入以太坊生态系统，一个专注于构建模块的实体。</p>
<p><strong>区块建设者</strong></p>
<p>现在已经存在区块建设者了，矿池有专门的搜索团队的私人中继器。Flashbots与Flashbots拍卖接收搜索捆绑区块包。这两个实体都有一组事务/区块包，并以获取最大价值的方式对它们进行排序。</p>
<p>矿池为区块建设，Flashbots为他们的巨型矿池捆绑区块而建设。</p>
<p><strong>合并前: 以信任为基础的系统</strong></p>
<p>在合并之前，这些“建设者”只会将他们的“建设”委托给他们自己或与他们有协议的矿工，这是一个基于信任的体系。</p>
<p>如果我们看一下像Flashbots这样的 &ldquo;建设者&rdquo;，他们必须把他们的巨额资金发送给矿工，并相信他们不会偷走其中的MEV。</p>
<p><strong>矿工拥有最终的权力，因为合并后的验证者将拥有最终的权力。</strong></p>
<p>如果一个搜索者发送了一笔1000万美元的清算交易，理论上，矿工可以通过自己位于区块顶部的地址来调用清算，从而窃取机会。</p>
<p>为了防止这种情况，他们与大型矿池建立了合作关系，在那里，动机意味着窃取个人交易不值得破坏与Flashbots的关系并失去对MEV捆绑包的访问。</p>
<p>对于个人矿工来说，这些激励措施并不存在，因为考虑到他们赢得区块的频率很低，偷取MEV并破坏关系可能会产生最高的期望值。</p>
<p>这样做的结果是一个许可系统，只有某些些矿工可以获得Flashbots MEV订单流和利润。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_k6pkw182no.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p><strong>合并后：无信任的系统</strong></p>
<p>在以太坊中，合并后的构建者/验证者关系(类似于合并前的构建者/矿工关系)更接近于一个不可信的模型。</p>
<p>这是通过以太坊的一个新功能 &ldquo;盲区块 &ldquo;实现的。</p>
<p>盲块是指只包括以太坊区块中存在的区块头的区块，不会将任何事务与数据区块一起发送。</p>
<p>在验证器签署盲区块并将其发送给构建器之后，事务被发送。由于构建器会向网络发送这个签名的区块，这意味着在区块开始向其他节点传播之前，验证器不能窃取其中包含的MEV。</p>
<p>在这一点上，如果验证者提出一个新的区块，它 &ldquo;窃取 &ldquo;了一个MEV机会，它将 &ldquo;在同一高度提出两个不同的区块&rdquo;，他将被惩罚所质押的32个以太坊。</p>
<p>此外，不能保证声称有MEV机会的区块最终会成为经典区块。有50/50的概率是原始的，而验证者被砍了一刀（被惩罚之后），就无法再获得MEV的机会。</p>
<p>这对验证者来说是一种威慑，因为高额的惩罚成本可能比窃取MEV的潜在收益更高。(人们正在调查的情况是，最高期望值是试图窃取MEV，但这种情况并不常见)</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_nqq7wy4i89.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p>以太坊规范 - 盲区块只能访问交易根</p>
<p>请注意，当我们说这种关系更接近于无信任模式时，这是在构建者到验证者的方向上应用的。</p>
<p>由于区块被屏蔽，验证器不能确定它是否是一个有效的区块，它必须相信构建者已经发送的一个区块。</p>
<p>构建者显然被激励去发送有效的区块，如果它不这样做，它就会失去它可能获得的价值，并可能在未来被列入黑名单。</p>
<p>幸运的是，验证者的损失仅限于错过他们的区块建议，因为无效的区块并不是一种可以被惩罚的行为。</p>
<p>在合并后的世界里，任何验证者都能够与任何构建者连接，并通过盲区块访问这些MEV交易。</p>
<p>这使个人验证者与大型实体处于平等的竞争地位，因为两者现在都可以通过MEV获得更多的奖励。</p>
<p><strong>MEV供应链</strong></p>
<p>接下来，让我们看看合并后的MEV供应链，特别是建造者。我们将以 &ldquo;Flashbots建造者 &quot; 为例，展示他们可以竞争的一些不同领域。</p>
<p><strong>独家交易订单流</strong></p>
<p>搜索者订单流程 - Flashbots 中继</p>
<p>用户私人订单流程 - Flashbots（MEV机器人拍卖）保护</p>
<p><strong>内部MEV</strong></p>
<p>识别不在你的 &ldquo;搜索者订单流 &ldquo;中的MEV</p>
<p>从 &ldquo;用户私人订单流 &ldquo;中捕获道德的MEV</p>
<p><strong>延迟</strong></p>
<p>MEV竞拍将带来一些额外的网络跳跃的延迟。</p>
<p>垂直整合/共同定位可以限制这些跳跃的时间。</p>
<p>这可以让建设者有更多的时间在提交截止日期前看到交易/计算出最佳区块。</p>
<p><strong>区块构建算法</strong></p>
<p>更有效的包装一个区块，以包括最多价值。</p>
<p>在所有这些中，&ldquo;独家交易订单流 &ldquo;几乎肯定是最重要的因素。</p>
<p>让我们重新审视一下前面所描绘的Uniswap交易，但现在是用建造者/验证者模式。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_ln0b3gcczb.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p>白框显示了大部分变化发生的地方。我省略了中继器，它作为区块构建者的聚合器，将最有利可图的区块交付给验证器。</p>
<p><strong>1.</strong>  在这里，这个私有RPC端点代表Flashbots保护，之前这些订单流被发送到白名单上的矿工那里。现在，它们将成为Flashbots建设者的专属订单流，独家意味着其他竞争者不能访问它们。</p>
<p><strong>2.</strong>  这里的搜索器订单流是Flashbots Relay收到的捆绑区块包。同样，这将是一个排他性的订单流，只有Flashbots 建设者可以访问它。</p>
<p><strong>3.</strong>  在mempool中发现的公共订单流，Flashbots生成器也可以访问这些交易，但是其他的生成器也可以访问，这意味着它没有提供竞争优势。</p>
<p><strong>4.</strong>  运行mev-boost（MEV拍卖）的验证者将能够连接这个构建者网络。他们将收到来自建设者的盲区块，并将提出为他们提供最大价值的区块。</p>
<p>这个例子专门针对Flashbots，但我们可以期待每个建造者都有相同的主题。他们将拥有自己的搜索器和私人交易终端，他们将试图鼓励人们使用这些服务，这是他们独有的订单流和关键的竞争优势。</p>
<p>下面是来自Flashbots的一张优秀图表，它更详细地展示了上面的白色虚线框。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_h9cpya2k1f.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p>现在让我们放大 &ldquo;私有RPC端点 &ldquo;以及它们为用户提供的好处。</p>
<p><strong>私有RPC端点的好处</strong></p>
<p>私有RPC端点可以为用户提供许多好处，其中一些我们已经提到了，让我们来看看这些好处：</p>
<p><strong>交易前的隐私</strong></p>
<ul>
<li>抢先交易/三明治攻击保护</li>
</ul>
<p><strong>交易模拟</strong></p>
<ul>
<li>恢复保护——如果失败/恢复，则永远不要包含</li>
</ul>
<p><strong>全面保护(在未来)</strong></p>
<ul>
<li>
<p>如果你发送代币到一个已知的蜜罐地址，会发出警告。</p>
</li>
<li>
<p>如果支付的气体非常高，请与用户仔细检查，这是他们的意图。</p>
</li>
</ul>
<p>那么，有了所有这些伟大的功能，为什么不是所有用户都在使用它们呢？这主要取决于知识和设置过程中的摩擦。</p>
<p>如果我们看一下知识，很多用户不知道这个东西的存在，也不知道有解决他们一些问题的办法。他们不知道他们正在被前面的人或被夹住。他们不知道他们可以在NFT铸币过程中防止那昂贵的恢复。</p>
<p>为了看清摩擦，让我们以Metamask为例，看看我们如何在Metamask上设置这个。</p>
<p><strong>用户必须进入Metamask钱包设置→网络→以太坊主网（Networks ）→新RPC URL，并改变该URL。</strong></p>
<p>这对你来说可能听起来很容易，但对于一个新的用户来说，可能会感到不舒服，或者想玩玩默认值。</p>
<p>可以说，这不是用户应该处理的事情，需要有太多的知识来做出明智的决定。</p>
<p><strong>那么我们如何解决这个问题呢? 一种方法是钱包提供商(如Metamask)将其全局默认设置改为私有中继。</strong></p>
<p><strong>Metamask 沉睡的造王者</strong></p>
<p>让我们想一想，对于像Metamask这样的钱包提供商来说，这种改变全球默认端点的能力是多么强大？</p>
<p>想想有多少公共内存来自Metamask的钱包。一些研究表明，以太坊上高达70%的交易是通过Metamask进行的。</p>
<p>建设者愿意支付多少费用来独占该订单流，或者如果Metamask决定创建他们自己的建设实体，他们会多么容易地占据主导地位。</p>
<p>换句话说，Metamask 似乎是一个“沉睡的造王者”，如果它愿意，它可以为自己加冕，对于Metamask来说，这是一条艰难的道路。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_bf0f5fei68.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p>他们通过他们的订单流获得了这一巨大的价值，但他们想确保他们不会损害用户的体验，而且社区对正在进行的任何改变都是同意的。</p>
<p>如果Metamsk使用默认的私有RPC，而另一端的构建者没有持续赢得构建，那么用户可能会等待许多区块来确认他们的交易。</p>
<p>由于他们的交易不在mempool(内存池)中，他们无法上链，直到Metamask的构建者赢得一个构建的机会。</p>
<p>为了限制这种等待时间，Metamask可以轻松地嵌入一些默认逻辑。一个例子是，如果交易没有被包含在3个区块内，就会被发送到公共内存库。</p>
<p><strong>订单流的货币化</strong></p>
<p>钱包提供商正在考虑将他们的订单流货币化，货币化他们的订单流使他们能够捕获MEV价值并将其回馈给他们的用户。他们可以通过Gas折扣、代表所获价值份额的代币释放等方式做到这一点。</p>
<p>如果主流钱包决定不将订单流货币化，我们可能会看到，那些忽视订单流的钱包将大举转向承认并利用订单流的钱包。</p>
<p>对我来说，订单流的支付解决方案存在于应用程序和钱包层面，最好的应用程序和钱包将是那些能够向其用户返回最大价值的应用程序和钱包。——Stephane Gosselin - Flashbots - Unchained Podcast</p>
<p>它是否迫使占主导地位的钱包供应商的手进入订单流游戏？这是否有太多的价值可以忽略？</p>
<p>让我们看看这些订单流可以如何出售。</p>
<p><strong>独家代理协议</strong></p>
<p>钱包提供商（Metamask）出售订单流的最简单方式是通过一些协议，为一个或多个建设者提供独家订单流。</p>
<p>该协议将有服务条款：</p>
<ul>
<li>
<p>没有恶意的MEV，包括抢跑交易、三明治攻击。</p>
</li>
<li>
<p>3个区块后，交易将被排放到mempool（内存池）中。</p>
</li>
<li>
<p>6个月的合同。</p>
</li>
</ul>
<p>我认为，这种做法将非常集中于建设者市场。如果只有一家建设者能够访问MetamAsk订单流，那么对其他所有人来说，这场游戏可能就结束了。</p>
<p><strong>订单流拍卖</strong></p>
<p>另一种可能性是个人交易拍卖的概念。</p>
<p>钱包可以为所有的建设者提供拍卖服务，在那里，他们暴露了一个未签署的交易流，以进行竞标。</p>
<p>拍卖将有时间限制，以确保纳入，只有在下一个提出区块的验证者处注册的建设者才能投标。</p>
<p>如果没有收到交易投标，就会将这些交易发送到公共内存池，已知没有“MEV值的事务，例如简单的ETH转账，也可以设置为默认的内存池。</p>
<p>当一个建造商成功中标时，他们将支付费用，并收到已经签名的交易。类似于“排他性协议”，会有拍卖的服务条款，即Tx将在3个区块后发送到内存池等。建设者将需要编写算法/模型来自动为不同的交易定价，并确定出价。</p>
<p>钱包提供者可以从这些拍卖中提取一小部分，并将剩余部分返回给用户进行特定的交易。用户的交易价值越高，建造者的出价就越高，他们得到的回报也就越高。这个拍卖方法修复了当一批交易被出售时将MEV分配到不同地址的问题。</p>
<p><strong>心理战术</strong></p>
<p>我们可以从订单流拍卖中看到的另一件事是，建设者基于可用的未签名交易进行预测，就像机器人查看交易所订单簿一样。</p>
<p>实体是否可以在拍卖中伪造交易以获得一些优势?这将取决于钱包提供商/拍卖商来防止这种情况发生。</p>
<p><strong>中央集权的力量</strong></p>
<p>让我们来看看当1个建设者独占了以太坊上的大部分交易时会发生什么。</p>
<p>比方说，20个建设者可以访问 mempool（内存池）中的300个交易。有一个单一的构建者，除了300个mempool Txs（内存池交易）之外，还可以独占Metamask的700个交易，给他们1000个交易来构建。</p>
<p>这1000个区块的建造者可以建设大多数区块，他们有更大的搜索空间来构建区块，并能独占一些价值。</p>
<p>慢慢地，那些只有mempool（内存池）权限的区块建设者就会倒闭。他们没有赢得足够的区块，他们可能已经签订的任何独家订单流协议没有得到续约或被终止。</p>
<p>建设者赢得区块的频率直接影响到他们的用户体验，最终，他们无法竞争，无法以盈利方式运营。</p>
<p>“ 在未来几年里，独家订单流是MEV领域非常大的风险和非常大的危险。” ——Hasu - Flashbots - Wintermute MEV Hackathon</p>
<p>一个区块建设者在独家订单流上竞争的世界，是一个对区块建设者中出现的赢家通吃效应有强烈引力的世界。</p>
<p><strong>MEV 反乌托邦</strong></p>
<p>下图来自Stephane的MEV乌托邦和反乌托邦谈话，突出了去中心化的MEV供应链。我添加的红色方块表示可以通过独家订单流进行垂直集成。</p>
<p><img src="https://img.bibiqing.com/news/2022/0902/18_d9dyo7dhid.png" alt="MEV 订单流：区块建设者中的王者"></p>
<p>让我们运行一个模拟，让Metamask创建他们自己的构建器，看看会发生什么。Metamask拥有70%的公共订单流，他们使这一专属订单流为自己所有，并能够迅速支配区块建设领域。</p>
<p>由于他们主导了区块构建，搜索者别无选择，只能把他们的包发送给Metamask构建器。如果他们不这样做，他们只能访问当前构建者赢得的区块上的MEV，这是因为Metamask领域的比例很低。</p>
<p>Metamask开始建立一个内部搜索者团队，他们从他们所接触到的搜索者订单流中学习。</p>
<p>内部搜索者团队可以在没有竞争的情况下从70%的以太坊交易中提取价值，而外部搜索者则只能在mempool（内存池）中的剩余30%中争夺价值。</p>
<p>通过主导构建者领域，Metamask也可以为自己保留更多的MEV，而不是把它转给验证者。</p>
<p>在一个竞争激烈的市场中，利润被削减，大部分的价值最终落入验证者手中。</p>
<p>在垄断中，Metamask只需要确保他们的区块构建比下一个最好的构建者支付稍微多一点的费用。很快，Metamask已经开始主导钱包、搜索和建筑市场。</p>
<p>社区的反应会很有趣，很可能，Metamask必须像矿池和验证器池一样进行自我调节。Jon Charbonneau的下图显示了上面讨论的反馈回路，它可以迅速导致集中化。</p>
<p><strong>应用层面的优化，跨链和CEX</strong></p>
<p>有很多我没有触及的因素会影响这个未来的发展。让我们简单地谈一谈每一个因素，并提供一个高层次的概述。</p>
<p><strong>应用优化</strong></p>
<p>Uniswap、Sushiswap等去中心化的应用有很大的动力去减少其协议所暴露的MEV。理想情况下，他们可以为自己和他们的用户在Tx源头获取价值。</p>
<p>这方面的一个很好的例子是Sushiswap和Manifold Finance之间的合作（Manifold希望成为合并后的主要区块建设者之一）。Sushiswap将在协议层面上用Manifold的 &ldquo;MEV路由器 &ldquo;取代他们的 &ldquo;交易路由器&rdquo;。</p>
<p>MEV路由器 &ldquo;希望在用户进行交易时捕捉套利机会，并将价值返回给协议。这些应用/建设者关系将是建设者竞争的另一个领域。</p>
<p><strong>跨链MEV</strong></p>
<p>跨链MEV已经出现了，但是我们可以预期它在未来会变得更有竞争力。跨链MEV是非原子性的，有更高的执行风险，涉及库存管理，需要对多个链条有深入的了解。</p>
<p>因此，它的准入门槛要高得多。我们所谈到的一切在其他链上都有大致的反映。想象一下，获得Solana（SOL）订单流、Avalanche（AVAX）订单流等的机会。</p>
<p>其他链上的订单流将影响在以太坊上能做的事情，增加有价值交易的搜索空间，总是更有利于找到最高价值的组合。这种 &ldquo;其他链 &ldquo;的订单流对构建者网络的影响有多大，还有待观察，但在一个超竞争的环境中，它将提供一个优势。</p>
<p><strong>中心化交易所（CEX）</strong></p>
<p>像跨链MEV一样，我们已经看到链上/链下MEV的机会被利用。通过中心化交易所，建设者将不得不通过托管和谈判交易来最大限度的减少延迟，以获得最低的交易费用。</p>
<p>如果一个建设者商定了 0.02% 的交易费，而另一个建设者的交易费为 0.08%，这对他们可用的链上/链下机会有何影响？这将是建设者可以竞争并试图找到自己优势的另一个领域。</p>
<p><strong>未知的未来</strong></p>
<p>谁知道未来会发生什么，这是一个活跃的研究领域，有很多变化。Stephane下面的这段话反映了建设者市场的现实情况，同时也反映了社区的使命，即尽可能保持去中心化/扁平化。</p>
<p>“ 最终，建设者市场很可能会有一些幂律分布，其中顶级建设者聚集了大部分的提案权，但我们希望保持这种分布尽可能的平坦。” ——Stephane Gosselin - Flashbots - Bankless</p>
<p>谁知道呢，也许隧道的尽头有光。</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/42218/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">Ethereum：以太坊2.0与第2层解决方案的互利共生</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/42217/">
                <span class="next-text nav-default">MicroStrategy 遭起诉或面临过亿美元罚款 钻石手还能 HODL 多久？</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#提议生成器分离-pbs"><strong>提议生成器分离 (PBS)</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.5e8c82c5ae3f71b40f78c4ff8ea351326a65ddf5771f76c10c6fc7d09808332d.js" integrity="sha256-XoyCxa4/cbQPeMT/jqNRMmpl3fV3H3bBDG/H0JgIMy0=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
