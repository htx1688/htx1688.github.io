<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          疯狂的多链宇宙 疯狂的OP Stack - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="一场属于 “一键发链” 的疯狂即将到来！" />
<meta name="keywords" content="ZK Stack, OP Stack" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/56340/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="疯狂的多链宇宙 疯狂的OP Stack" />
<meta property="og:description" content="一场属于 “一键发链” 的疯狂即将到来！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/56340/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-08-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-08-03T00:00:00+00:00" />

<meta itemprop="name" content="疯狂的多链宇宙 疯狂的OP Stack">
<meta itemprop="description" content="一场属于 “一键发链” 的疯狂即将到来！"><meta itemprop="datePublished" content="2023-08-03T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-08-03T00:00:00+00:00" />
<meta itemprop="wordCount" content="8796">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="疯狂的多链宇宙 疯狂的OP Stack"/>
<meta name="twitter:description" content="一场属于 “一键发链” 的疯狂即将到来！"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">疯狂的多链宇宙 疯狂的OP Stack</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-08-03">
      2023-08-03
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 8796 字 -
        预计阅读 18 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>一场属于 “一键发链” 的疯狂即将到来！OP Stack是能够一键创建Layer2的 “超级链”，本篇内容以OP Stack架构、OP里的ZK元素、Rollup的安全性问题三部分进行全面解析。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/11_y7os3ms53n.png" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p><strong>前言</strong></p>
<p>ETH的主体叙事方向已由Layer1 转向了Layer2，如果还将其理解为“一键发币”的ERC-20叙事，<strong>我们不妨放大格局展开想象，一场属于 “一键发链” 的疯狂即将到来！</strong> 依托目前无人能及的生态和居高不下的TVL,Arbitrum 一直引领着 Layer2 之间的战争，但这暂时的胜利能持续很久吗？与 Arbitrum Orbit 再上一层的 Layer3 方案不同，OP Stack是能够一键创建Layer2的 “超级链”。本篇内容以OP Stack架构、OP里的ZK元素、Rollup的安全性问题三部分进行全面解析。</p>
<h3 id="op-stack-开启超级链宇宙"><strong>OP Stack 开启“超级链宇宙”</strong></h3>
<p><img src="https://img.bibiqing.com/news/2023/0803/i4ywoccrnga4l87" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>下轮牛市的叙事从哪开始？是从高性能的Layer1，继续堆高的Layer3，ZK系的Layer2，还是OP Stack的超级链？这是一个非常有趣且值得深思的问题。以太杀手这个称号仍然是万众公链不可逾越的究极目标，而在这个庞大的巨人里还暗藏着很多不可忽视的超级内核，其中一个便是：OP Stack。</p>
<h4 id="什么是op-stack"><strong>什么是OP Stack？</strong></h4>
<p>OP Stack 可理解为一组开源的软件组件，使任何人都可以使用Optimistic rollups 在以太坊之上构建自己的Layer2 区块链。它将大部分计算和存储移至链外，同时依赖以太坊来确保安全性和最终性，从技术层面来讲，Optimism 主要体现在它切实地为用户节省了大量链上费用。OP Stack由四个主要组件组成：</p>
<ul>
<li>
<p>主网：OP Mainnet 是一个廉价且快速的以太坊 Layer2 网络，与以太坊虚拟机EVM相兼容；</p>
</li>
<li>
<p>合约：实现OP Stack核心逻辑和功能的智能合约。OP合约包括状态转换系统（STS）、欺诈证明者 (FP)、状态承诺链（SCC）以及规范交易链（CTC）；</p>
</li>
<li>
<p>服务：提供 Layer1 和 Layer2 之间的数据可用性、数据同步和通信服务；</p>
</li>
<li>
<p>工具：促进基于 OP Stack 的区块链的开发、测试、部署、监控和调试。</p>
</li>
</ul>
<h4 id="超强的开放性"><strong>超强的开放性：</strong></h4>
<p>OP Stack 将被打造为可分叉模块化扩展区块链的基础设施，为实现这一远景需将各类Layer2 整合成一个单一的超级链（Superchain），把原本相互孤立的Layer2 集成到一个具备互操作性和组合性的系统中，启动Layer2 就像今天将智能合约部署到以太坊一样简单，让叙事变化由“一键发币”走向“一键发链”。本质上而言，超级链是一个可横向扩展的区块链网络，与各链之间共享以太坊的安全性、通信层以及开发套件。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/krhbpdlrshbls30" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>OP Stack （Over Powered Stack）将成为超级链背后统一的模块化开发堆栈，且它们之间是无数可相互链接、可通信的区块链。OP Stack堆栈由专门的 Optimism Collective 负责整体的开发和维护，并支持用于部署新汇总网络的共享开源系统。与此同时它也是一套标准化的开源模块。这样一听它岂不是一个完全基于以太坊安全性的Cosmos！当初说好的ETH与ATOM两者互补，现在却让OP Stack成为了Cosmos杀手？接下来让我们把OP Stack的定义给拆解一下：</p>
<p>模块是任何开发人员可以插入 OP Stack 的数据位。而这套超级链的&quot;标准化&quot; 意味着对一个模块的标准有共识，并且它可以被所有人实现。同时完全开源意味着它可以免费提供给任何人进行开发迭代和消息请求。开发人员有能力在一个链的不同执行层、共识层、结算层和数据可用性层进行切换模块。</p>
<p>好比dYdX 选择离开以太坊转向 Cosmos 应用链，其根本原因是他们希望自己链上的共识层有更大的模块化，我认为这是一个很好的开始，让更多独立的Dapps选择更符合自身的公链进行开发，其中最具有代表性的是Luna，虽然出于一些原因它被毁灭了。值得庆幸的是OP Stack 解决了这个问题，它的设计可以用更容易的方式进行代码分叉，让开发人员可以很容易地抽象出区块链的不同组成部分，并通过插入不同的模块来修改它。</p>
<h4 id="op-stack-设计原则"><strong>OP Stack 设计原则：</strong></h4>
<ul>
<li>
<p>效能：可以使用OP Stack构建任何东西并一键发行区块链；</p>
</li>
<li>
<p>简洁：利用可复用的代码和现成开发套件，以增强安全性和降低维护的复杂性，达到整体降低门槛的作用；</p>
</li>
<li>
<p>可扩展：Optimism Collective 将会完整开源OP Stack的主要代码。</p>
</li>
</ul>
<p>在架构上，OP Stack可自下而上分为六层，分别是DA Layer数据可用层、Sequencing Layer 排序层、Derivation Layer衍生层、Execution Layer执行层、Settlement Layer 结算层、Governance Layer治理层。OP Stack 的每一层都是模块化的API 组建，可以随意进行组合和解耦。其中最为关键的是DA数据可用层、执行层和结算层，三者构成了OP Stack的主要工作流程。</p>
<ul>
<li>
<p>DA数据可用性层：是OP Stack的原始数据来源，可使用单个或多个数据可用性模块来获取输入数据，目前以太坊是最主要的DA层，但未来也会有更多的链加入进来；</p>
</li>
<li>
<p>执行层：OP Stack中的状态结构，可为EVM 或其他VM提供可能性，增加了在以太坊上发起的Layer2 交易的支持，同时为每笔交易增加额外的Layer1 数据费用，向以太坊发布交易的综合成本。</p>
</li>
<li>
<p>结算层：OP Stack上Layer2交易数据的去处，在Layer2确认后将信息发送到目标区块链，以此最终结算。未来也有望接入ZK等有效性证明机制，以打通不同链之间的隔阂，甚至可以链接OP系Layer2和ZK系Layer2之间的孤岛。</p>
</li>
</ul>
<p>我们观察到近期OP生态发展出了一些带有ZK元素的项目，不妨大胆想象一下，如某个 Optimistic rollup 想把自己改造成 ZK rollup，没问题！只要把它的欺诈证明模块换成结算层的有效性证明模块即可。如果某条链想把 Celestia 用于其数据可用性层。没问题！把以太坊换成 Celestia 就行。想把执行层的 EVM 换成另一种虚拟机，可惜的是这只能是 OP Stack 的一个技术可能性。正如这种超级链局面的出现而诞生出一个热梗——“Polygon：我要做ZK Layer2的Cosmos！Optimism：我要做OP Layer2的Cosmos! Cosmos：那我是谁？”</p>
<h4 id="op-stack-法则"><strong>OP Stack 法则：</strong></h4>
<p><img src="https://img.bibiqing.com/news/2023/0803/nmwy4n3jvsqe7ng" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>以太坊的无限区块空间是实现大规模应用的关键一步，但这种扩散也带来了分裂，无权限部署也迎来了新挑战，如今，每个新的 OP Stack 链都在自己的领域中独立生长，没有分享标准和改进的直接方法。用户和建设者也面临着巨大的挑战：根据安全性、质量和中立性对众多不同的链进行单独评估。为了实现超级链，需将 OP Stack 从独立、分散的区块空间转变为一个统一的链集体，共同致力于开放、去中心化的区块空间。“链法则”为乐观主义治理和超级链制定了指导原则。乐观主义治理从管理单个链转变为管理多个链共享的标准，从而定义了成为超级链一部分所需的属性，同时优先保护用户在超级链上进行交易。从根本上讲，“链法则”是一份社会契约（而非法律契约），因此积极的社区讨论至关重要。它的存在将使超级链能够保证以下特性：</p>
<ul>
<li>
<p>确保区块空间保持同质、中立和开放： 对链法的承诺就是对保护链的用户、开发者和其他利益相关者的承诺。无论大小的链，如果是超级链的一部分，都可以在乐观主义治理的支持下，可信地证明其区块空间的同质性、中立性和开放性；</p>
</li>
<li>
<p>受益于不断改进： 共享升级意味着超级链可以始终获得最好的技术，而无需自己操心维护；</p>
</li>
<li>
<p>提供更好更可用的基础设施： 由于超级链中的所有链都可信地致力于一个标准，因此它们可以共同努力，确保索引和排序等关键服务的可用性和经济性。</p>
</li>
</ul>
<h4 id="值得思考的问题"><strong>值得思考的问题：</strong></h4>
<p><strong>OP Stack能否反哺OP？</strong></p>
<p>OP Token到底有什么用途，如果以Basechain的方式，他们会把一部分收入反哺给到Optimism Collective，那么“国库”的收入来源会依托自身的“价值”，依靠创造更多的叙事来最终反馈到币价上，使得OP在二级市场的表现逻辑与ATOM类似，但这种方案或许是目前最优的，如有更多的链条效仿Basechain的方式进行反哺，Optimism Collective终将受益。这种感觉是否让我们想到UNI？两者项目本身都具有雄厚实力但Token自身除了投票和治理外并没有其他价值用途。与此不同的是，目前Layer2都面临着中心化排序器问题，即使 Layer2 代币仅用于某种形式的领导者选择（而非共识投票），但排序权的价值仍会累积到 Rullop 代币上。</p>
<p>与此同时OP团队在7月25日的时候发布了Law of Chain提案，所有采用OP Stack的链启动共享治理模型和排序器，希望将“利润反哺”这个模式进行规范化，从而为整个OP系带来更多收益（如上述OP Stack法则），这相比于Cosmos的共享安全模型，堪称异曲同工之妙。</p>
<p><strong>OP Stack 和 ZK Stack的区别：</strong></p>
<p>OP Stack：多链单选择</p>
<p>通过上文我们不难发现OP Stack采用的与Cosmos相似的多链模式，但选择方面只有一个，因为OP Stack 追求各个链都需验证其他链的交易，否则就需要在 Layer1 上等待数天才会有结果，所以单一且共享的排序器，集中式的MEV分配以及受法约与管理的保护是唯一让Optimistic rollups 在不同链之间实现无缝互操作性的可能。</p>
<p>ZK Stack：多链多选择</p>
<p>与OP Stack不同的是，ZK Stack同样可以多个链，但它可有多种选择，可选自己的排序器，按自己方式去处理MEV，且受数学和代码的保护（注意：OP Stack是受法约与管理的保护）。这是因为如果ZK采用指定共享或极少量的线程集，那它们彼此之间单依数学即可盲目的信任，使零知识证明失去价值。</p>
<h3 id="op-stack里的zk元素"><strong>OP Stack里的ZK元素</strong></h3>
<p><img src="https://img.bibiqing.com/news/2023/0803/89hsmg28iz6sozf" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>OP Stack 是一套完全开放的架构，会让生态里出现zkvm、zkmips、zkwasm、zkevm成为可能，但相比于 “ 正统的ZK ” ，OP Stack 里也产生了一些不一样的ZK元素。这让我们情不自禁地联想到，也许在不久的将来能出现一次OP rollup 与ZK rollup 的梦幻联动。</p>
<h4 id="为op实现零知识证明zkp"><strong>为OP实现零知识证明（ZKP）：</strong></h4>
<p>根据最新的进展，Mina的背后团队计划采用他们自己的plonk系统 + kzg承诺 + folding 算法 nova 来实现 OP Stack 上的 zkmips vm 。虽然这仅是一个最新提案会存在较多不成熟的地方，但这也是非常值得我们去探索的。该项目团队的使命是让Layer2与Layer1及OP各个链之间通过零知识证明来实现安全低延迟的跨链通信。这是一个针对良好支持的指令集架构（ISA）的零知识证明（ZKP），它可以证明Optimism容错程序的行为，为能够证明任何基于OP Stack的区块链系统奠定了基础。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/6ica6ces3nhp48z" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>完成这项任务意味着需要实现一个零知识证明（ZKP）系统，该系统可以使用 golang 编译器（如 MIPS、RISC-V 或 WASM）支持的指令集架构（ISA）来证明 OP 防错程序 [2] 。此外，该证明系统还必须证明标准配置 OP Stack 链的两个区块之间状态转换，从而证明其在实践中是可行的。除了证明 ISA 的标准执行轨迹外，对防错程序的支持还引入了额外的要求[1] 。</p>
<p>具体来说，防错程序引入了Pre-image Oracle [3] 的概念，它使用特殊的System call [4] 将外部数据加载到程序中。每个Fault Proof VM [5] 都负责实现某种机制，通过这种机制，某些数据的哈希值被放置在内存中的特定位置，且被系统调用被执行，然后该哈希值的预映像被加载到内存中供程序使用。Pre-image Oracle也用于引导程序的初始输入。</p>
<h4 id="去中心化排序器的尝试"><strong>去中心化排序器的尝试：</strong></h4>
<p>Espresso Systems于2023年7月21日发推文官宣关于构建 OP Stack 领导选举的去中心化排序验证的提案已被接受，并成为 OP Stack 和 Superchain 的贡献者。其中该项目的主要协议HotShot是一种高速的共识协议，可使用重新抵押来使以太坊验证者能够参与该协议，旨在达到与以太坊验证器集相同的规模。同时该项目还开发了 Espresso Sequencer ，这与功能齐全的 Zk-rollup 实现了集成，特别是 Polygon zkEVM 的分支。</p>
<p><strong>什么是领导选举？</strong></p>
<p>领导选举[6]是指在分布式系统中使用不同的领导者负责创建下一个规范状态转换的能力。在区块链中，领袖选举可以让不同的区块生产者在不同的时间产生区块，同时领导选举算法可以是竞争性的也可以是无竞争性的。</p>
<p>在工作量证明情况下，竞争性领导选举算法是指在同一时间内有许多潜在的单位争相成为领导者。无竞争领导者选举算法是指在某一特定时间点只有一个已知的领导者，在以太坊Gasper的情况下，无竞争性领导选举算法是指在特定时间点只有一个已知的单位，并没有其他方式让另一个潜在单位在那个时间成为领导者。</p>
<p>在将提议者网络和构建者网络分离的情况下（即区块构建者网络只负责选择交易排序，提议者网络只负责签署区块），会将原本负责在某一时刻产生区块的单一实体转变为许多可能存在的实体，且让它们在竞争这某一时刻内构建者网络中最具盈利的潜力区块，与此同时由于MEV的存在，会导致这种竞争性再次回归。</p>
<p>我们在理解不同的 OP Stack 链之间领导选举机制的各种二阶效应是非常困难的。就目前而言，把领导选举作为一种机制是最受欢迎的，因为它可以让排序更加的去中心化。需注意的是这种方案也无法保障排序器是绝对去中心化，所以在考虑去中心化排序器问题时要额外的小心谨慎。</p>
<h3 id="rollup们真的安全嘛"><strong>Rollup们真的安全嘛？</strong></h3>
<h4 id="以太坊的工作原理"><strong>以太坊的工作原理：</strong></h4>
<p>以太坊的原理是，每个节点都存储且执行用户提交给它的每笔交易，这种高级别的安全方式也导致整个网络十分昂贵，所以需要为整个网络扩容而采取了Rollup解决方案。简单来说Rollup = Layer1的一组合约 + Layer2的自身网络节点，即链上智能合约 + 链下聚合器，将结算，共识，数据可用性均依赖以太坊，自己仅负责执行 Rollup。</p>
<ul>
<li>
<p>链上智能合约，表示了它的信任模型就是以太坊上的一个智能合约，借用了以太坊的安全性；</p>
</li>
<li>
<p>链下聚合器，表示它会链下执行并聚合交易，将大批量的交易进行压缩，并最终放上以太坊主网，达成更快且更便宜的目的。</p>
</li>
</ul>
<p>Layer2网络节点又有很多部分组成，其中排序器（Sequencer）组件最为重要。它负责接收Layer2上的交易请求，以此决定他们的执行次序并将交易序列进行打包批次（Batch），最终传送给Rollup项目在Layer1上的合约。需要注意的是在开始下文前需明确一个事实：如下图参考，目前以太坊所有Layer2 Rollups的排序器都是中心化的。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/pj72k9i5hqaqasg" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>图源：官方推文截图</p>
<h4 id="中心化的排序器问题"><strong>中心化的排序器问题：</strong></h4>
<p>Layer2的全节点可以通过两种方式获得交易序列：一是直接从排序器获取，二是读取排序器发送到Layer1的交易批次（Batch）但后者拥有更强的不可修改属性。由于交易执行会改变区块链账本的状态，为确保一致性，Layer2全节点除了需要获得交易次序，还必须与排序器同步账本状态。因此，排序器的任务不仅是将交易批次发送到Layer1的Rollup合约，还要将交易执行后的状态更新结果StateRoot/StateDiff传送至Layer1，通俗来讲排序器的工作是将交易处理和排序为添加到区块链中的块，负责批量处理交易并将其发布到 Layer1 智能合约。</p>
<p>对于Layer2的全节点来说，只要获取了Layer1上Rollup的交易序列和最初的StateRoot，就能够还原出Layer2的区块链账本，并计算得出最新的StateRoot。反之，Layer2全节点自己计算得到的StateRoot与排序器发布到Layer1的StateRoot不一致，就意味着排序器存在欺诈行为。综上相比Layer2自身的网络，Layer1会更加去中心化、去信任（Trustless）和更安全。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/pqkke2cilsmfues" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<h4 id="op-stack"><strong>OP Stack:</strong></h4>
<p>那么问题来了，Layer2 可不可以伪造一些不存在或是一些错误的交易，好比将Layer2的Token资产转移到排序器的运行者地址，再将这些Token资产转移到Layer1上，从而盗取用户资产？答案是：如果想这样做完全是可以的。所以在面对排序器可能存在的欺诈风险时，不同类型的Rollup采用了不同方式的应对措施。</p>
<p>我们拿Optimistic Rollup举例，它允许Layer2全节点提供欺诈证明（Fraud Proof），证明排序器在Layer1发布的数据是错误的。但对于没有欺诈证明的Optimism来说，如果它真想通过排序器来盗走Layer2的用户资产，只需让排序器运行者伪造交易指令，并将其他人在Layer2的资产转移至自己的地址，最后通过Rollup自带的Bridge合约，来把盗来的币转移至Layer1。</p>
<p>为解决这种可能存在的问题，目前解决方案一是靠社区成员和社交媒体等舆论监督达成所谓的“共识”，二是依靠OP做为官方的信用背书。所以综上理论，OP Rollup的安全性至少依靠要有一个能发布欺诈证明的诚实Layer2全节点来保证，既上文“OP Stack 和 ZK Stack的区别”小节中提到的：OP Stack是多链单选择。</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/8tnk7kr6f8ebu3s" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<h4 id="zk-stack"><strong>ZK Stack：</strong></h4>
<p>下面我们来探讨一下ZK Stack，在ZK rollup网络中，存在着Prover节点，它专门负责为排序器发布交易批次，同时生成有效性证明。这些有效性证明在Layer1上有专门的验证合约。只要交易批次及其对应的StateRoot/StateDiff的证明通过Verifier合约验证，交易便得到最终确认。它与OP Stack有所不同的是，ZK rollup在解决排序器欺诈问题时除了依赖Layer2全节点外，还利用了Validity Proof（有效性证明）。ZK rollup的官方桥梁也只会允许通过有效性证明验证的提款交易执行，从安全性方面来看，这显然比Optimism要可靠得多，即上文中“OP Stack 和 ZK Stack的区别”小节中提出的：ZK Stack是多链多选择。</p>
<p>从理论来考虑，ZK rollup的安全由Layer1上的Verifier合约保证或可以说是由Layer1节点完成交易最终确认。与OP rollup的安全性靠最少单个能发布欺诈证明的诚实Layer2全节点相对比，他们都是继承了Layer1(ETH)的安全性，但事实或许严格意义来讲并非如此，不过这已是目前最优解决方案，相比于其他公链，以太坊经历这么多年的发展历程，安全性毋庸置疑是最值得信赖的。</p>
<p>如同区块链三角问题，一个“产品”的综合用户体验似乎也存在着一个三角问题：安全，简单，高效。ZK Stack相比OP Stack，它更加相信依靠数学和代码来提升整体的安全性质，因此大幅提升了整体的复杂性。所以关于ZK也存在几点老生常谈的话题：</p>
<p><img src="https://img.bibiqing.com/news/2023/0803/a0t8nllkac8sh58" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<ul>
<li>
<p>延迟问题：ZK rollup还需要解决Layer2节点向Layer1发布数据的延迟问题。类似于快递运输需要准备包装盒一样，所以每次排序器或Prover向Layer1发送数据都会产生固定的成本；</p>
</li>
<li>
<p>速度问题：ZK rollup面临着一个挑战，即生成有效性证明的速度较慢。尽管排序器可以在1秒内执行数千笔交易，但为这些交易生成有效性证明可能需要几个小时的时间；</p>
</li>
<li>
<p>成本问题：为了降低整体成本，很多ZK rollup方案采取了“聚合多个Proof，再一次性发到Layer1上”的策略。这意味着Prover不会立即在生成一个Proof后就发送到Layer1，而是等待多个Proof都生成完毕后，将它们聚合在一起，并一次性发给Layer1上的Verifier合约；</p>
</li>
<li>
<p>数量问题：如果发起的交易笔数不够多，排序器可能会延迟向Layer1发布数据。举个例子，在市场不活跃的时期，某些Rollup网络可能每半小时才向Layer1发送一次交易批次。</p>
</li>
</ul>
<p>关于更适合的去中心化的排序器解决方案问题，模块化或许是最优的解决方式，因为模块化等同于更大的可定制化，在目前的去中心化工具中主要以以下五种为主：</p>
<p><strong>-</strong> Single Sequencer &amp; POA <strong>-</strong> Based rollup</p>
<p><strong>-</strong> DVT x Sequencer <strong>-</strong> Shared Sequencer</p>
<p><strong>-</strong> Bootstrap a New Sequencer Set</p>
<p>我们相信在不仅的将来，以上诸多问题可以通过技术来进一步解决。好比降低有效性证明的生成时间，Optimism承诺近期会发布欺诈证明系统，以及以太坊的Danksharding方案也将大幅降低Rollup的数据成本，去中心化排序器难题也在会攻克，共同为上述问题提供出有效的解决方案。</p>
<h3 id="结尾叙事走向"><strong>结尾：叙事走向</strong></h3>
<p><img src="https://img.bibiqing.com/news/2023/0803/cmu0sryopesdb77" alt="疯狂的多链宇宙，疯狂的OP Stack"></p>
<p>YBB Capital Researcher Ac-Core 自制</p>
<p>超链和超扩展一直是被大家所重点关注的扩展方向，虽目前而言，各个项目仍处于早期发展阶段，但整体都为以太坊带来了更为强大的故事叙事。我们现在可以看到，OP Stack已经获得了较多的采用，众多明星公链也加入其中，比如Coinbase、opBNB、Zora、Worldcoin等众多公链都给予了OP Stack很好的品牌背书。包括近期在6月26日晚，zkSync 宣布推出用于构建定制 ZK rollup 的模块化开源框架 ZK Stack ，这也被许多人认为是 zkSync 团队用来对付 OP Stack 头号的杀手锏。一边是具有先发优势的 OP Stack，一边是具有数学优势的 ZK Stack，<strong>总而言之Layer2的任何价值都可以积累到Rollup的代币中来</strong> ，Layer2 扩容之战才刚刚开始，关于Layer2这场没有硝烟的战争你是如何看待呢？</p>
<p>解释文献：</p>
<p>[1]https://github.com/ethereum-optimism/optimism/blob/develop/specs/fault-proof.md#fault-proof-program</p>
<p>[2]https://github.com/ethereum-optimism/ecosystem-contributions/issues/61</p>
<p>[3]https://github.com/ethereum-optimism/optimism/blob/develop/specs/fault-proof.md#pre-image-oracle</p>
<p>[4]https://en.wikipedia.org/wiki/System_call</p>
<p>[5]https://github.com/ethereum-optimism/optimism/blob/develop/specs/fault-proof.md#fault-proof-vm</p>
<p>[6]https://github.com/ethereum-optimism/ecosystem-contributions/issues/63</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/56312/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">大模型激战正酣？“小模型”或许才是出路</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/56325/">
                <span class="next-text nav-default">高盛：2025年全球AI投资将达到2000亿美元 美国占一半</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#op-stack-开启超级链宇宙"><strong>OP Stack 开启“超级链宇宙”</strong></a></li>
        <li><a href="#op-stack里的zk元素"><strong>OP Stack里的ZK元素</strong></a></li>
        <li><a href="#rollup们真的安全嘛"><strong>Rollup们真的安全嘛？</strong></a></li>
        <li><a href="#结尾叙事走向"><strong>结尾：叙事走向</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.5e8c82c5ae3f71b40f78c4ff8ea351326a65ddf5771f76c10c6fc7d09808332d.js" integrity="sha256-XoyCxa4/cbQPeMT/jqNRMmpl3fV3H3bBDG/H0JgIMy0=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
