<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          模块化 MEV 系统化整理（Part 1 简介） - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="可量化 MEV 的最早例子之一是在 CryptoKitties 的热潮中发生的。" />
<meta name="keywords" content="MEV" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/47146/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="模块化 MEV 系统化整理（Part 1 简介）" />
<meta property="og:description" content="可量化 MEV 的最早例子之一是在 CryptoKitties 的热潮中发生的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/47146/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-02-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-02-09T00:00:00+00:00" />

<meta itemprop="name" content="模块化 MEV 系统化整理（Part 1 简介）">
<meta itemprop="description" content="可量化 MEV 的最早例子之一是在 CryptoKitties 的热潮中发生的。"><meta itemprop="datePublished" content="2023-02-09T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-02-09T00:00:00+00:00" />
<meta itemprop="wordCount" content="7950">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="模块化 MEV 系统化整理（Part 1 简介）"/>
<meta name="twitter:description" content="可量化 MEV 的最早例子之一是在 CryptoKitties 的热潮中发生的。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">模块化 MEV 系统化整理（Part 1 简介）</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-02-09">
      2023-02-09
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 7950 字 -
        预计阅读 16 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>撰文：<a href="https://rainandcoffee.substack.com/p/modular-mev-part-1the-introduction">rain and coffee</a></p>
<p>最大可提取价值，或称 MEV，在 Crypto 中一直都很热。MEV 指的是通过重新排序、插入和审查区块内的交易，以及从良性的 MEV（如套利、清算等）中获取利润，从而从用户身上提取价值。早在 2014 年，它就被/u/pmcgoohan 在 <a href="https://www.reddit.com/r/ethereum/comments/2d84yv/miners_frontrunning/">Ethereum subreddit</a> 上首次提及。</p>
<p>可量化 MEV 的最早例子之一是在 CryptoKitties 的热潮中发生的。具体而言，完成 CryptoKitties 怀孕（生下一只新猫），任何人都可以在猫的分娩区块后通过调用智能合约的 giveBirth (）来完成怀孕。随后，用户便可以获得 Eth 奖励。这有可能提前运行，从而产生利润（MEV）。正如 <a href="https://medium.com/block-science/exploring-cryptokitties-part-2-the-cryptomidwives-a0df37eb35a6">Markus Koch</a> 在 2018 年指出的那样 &ndash; 在游戏历史早期，生育小猫的账户只有那么几个。而随着时间的推移，其他账户开始调用 giveBirth ()，因为他们看到利润可以免费获得。从数据可以看出，只有少数助产士占了大部分的出生量。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_7s5i4e83sh.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>顶级 giveBirth 调用者（助产士）的收入</p>
<p>此外，助产士是通过 gas 费用进行竞争的（因为尽管在代码效率上相对平均，但在实现 giveBirth 调用方面，一些助产士表面上比其他助产士更成功、更有利）。当时做出的结论是，分娩费使 CryptoKitties 的玩法比不需要该机制时更昂贵。这个例子说明 MEV 对终端用户来说等于交易执行不力，因为它在生育期间激增了 gas 费用。</p>
<p>另一个例子是，早在 2017 年中后期，Bancor 上的抢跑运行。<a href="https://hackingdistributed.com/2017/06/19/bancor-is-flawed/?ref=hackernoon.com">2017 年 6 月</a>，Phil Daian（Flashbot 联合创始人）和 Emin（Avax 创始人）指出了这种可能性。他们表明，矿工将能够在 Bancor 上提前进行任何交易，因为矿工可以在他们开采的区块内自由地重新排序交易。同年 8 月，Ivan Bogatyy 在这方面更进一步，建立了一个程序，可以作为一个非矿工（只是一个搜索者！）监测和执行 Bancor 上的前置交易机会 - 因为区块链及其 mempools 是公开的。如果你想了解早期的 MEV 世界，可以阅读这本不错的读物（<a href="https://hackernoon.com/front-running-bancor-in-150-lines-of-python-with-ethereum-api-d5e2bfd0d798">链接</a>）。</p>
<p>从那时起，MEV 迅速发展，随着 2019 年以来链上经济活动的增加和 DeFi 的出现，它已经成为协议设计的一个重要组成部分。而随着 L2、桥接、应用链等的兴起，研究“模块化”设计空间可能对 MEV 产生的潜在影响是很有意思的。但首先，我们必须概述一下目前 MEV 中的参与者。</p>
<p>在 MEV 生态系统中，有各种各样的参与者。其中搜索者通常是最有利可图的 MEV 参与者（从第一原则的角度来看，虽然更多的“一般”价值最终由构建者和验证者获得，因为他们聚集了许多搜索者的价值）。让我们先解释一下他们是谁。另外还需注意的是，由于协议设计的原因，部分参与者比其他参与者串通得更多。参与者（bar 用户和钱包）包括搜索者（S）、构建者（B）和验证者（V）。在 MEV 供应链中，他们的角色如下：</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_3dcslsss7g.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p><strong>搜索者：</strong> 试图通过不同的方法找到链上所有可提取的价值。搜索者与构建者合作，因为搜索者愿意支付高额的 gas 费用，以使他们的交易包括在内。这很重要，因为许多我们认为理所当然的事情，如套利和清算，都是由搜索者执行的。搜索者将交易捆绑在一起，并将其交给构建者。</p>
<p><strong>构建者：</strong> 把被捆绑在一起的交易拿出来，并把它们放到区块中给到发起者。除了搜索者的交易之外，几个捆绑的交易可以被组合在一起作为一个区块，另外也有可能包含其他用户在 mempool 中的待定交易，捆绑的交易也可以针对特定的区块进行包含。</p>
<p><strong>验证者：</strong> 验证者发挥共识作用，对区块进行验证。他们向追求利润的搜索者和构建者出售区块空间，并反过来得到部分奖励。请记住，验证者从发行（发起者、证明人、同步）和执行奖励（MEV+Tips）中获得奖励。</p>
<p>那么，为什么有些人说 MEV 是有害的，尽管表面上它似乎为生态系统和安全预算提供了价值？因为 MEV 通过优先 gas 拍卖（PGA）进行竞争。PGAs 是一种拍卖，费用通过竞争性出价来获得交易的优先顺序。费用估算者使用 PGA 膨胀的 gas 价格作为参考，导致用户为其交易支付了更多费用。应该指出的是，这主要是在 MEV-Geth/Boost 和 Flashbots 之前的运作方式。MEV- geth 发布后，大部分与 MEV 相关的计算都被从链下移除，取而代之的是一个无需许可的侧中继，允许 MEV 搜索者直接与节点和其他参与者通信。拥堵收费降低。当你对比 vanilla 构建者和 MEV-Boost 的份额时，这也更容易看出。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_m82lfgju8t.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>在其核心，这个问题源于这样一个事实：用户和 bots 在同一个池子里，与他们是否追求 MEV 无关。</p>
<ul>
<li>
<p>参与者有巨大的动机去敲诈用户以获取利润。</p>
</li>
<li>
<p>参与者有巨大的动机中心化（向验证者/构建者靠近）。</p>
</li>
<li>
<p>尽管系统是去权限的，但敲诈可以通过协调人的中心化（不管是谁执行共享层的机制，如订购、结算、安全、流动性、消息传递等）而变得可信。</p>
</li>
</ul>
<p>因此，敲诈可以而且会发生（通过中心化）。</p>
<p>此外，参与 MEV 的门槛也越来越高，导致了进一步的中心化。这部分是由于搜索者必须对 MEV 机器人进行不断的维护的事实。竞争是粗暴的，代码也在不断更新。如果你找到一个优势，你更有可能不分享它，尽管区块链是开放的账本，它们最终会被发现。MEV“市场”，如 Flashbots，也是相当中心化的，因为绝大多数区块都是通过 Flashbots 流动的（70%！），尽管 MEV-Boost 中继是去权限的，并且有好几个终端（根据 Flashbots，有 <a href="https://mevboost.pics/">11 个</a>终端）。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_sh3shgcjbl.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>需要注意的是，他们有计划将整个 MEV 供应链去中心化，我们相信 Flashbots 团队很清楚当前实施的细微差别。中心化的 Flashbots 中继器并不直接拥有任何验证者的权力。Flashbots 也不能审查与 MEV 无关的交易。验证者仍然可以包括没有经过 Flashbots 中继的交易。Flashbots 显然是一个中心化的力量，但是一个非 Flashbots 世界的替代方案肯定感觉会更糟。由于 MEV-Boost 的参与者比非参与者的平均收入要高，这也导致了利用它的行为者的进一步中心化。</p>
<p>不过不要害怕，答案一直是“我们将去中心化！”虽然，如果 Flashbots 不能就 MEV 的问题达成共识（正如最近 Phil Daian 的<a href="https://unchainedpodcast.com/the-chopping-block-why-the-once-taboo-mev-is-now-a-core-part-of-ethereum-ep-449/">播客</a>‌中所提到的），那么更广泛的社区将如何达成共识？</p>
<p>如果 Flashbots 作为一个系统最终成为一个 DAO，那么它本身就有可能去中心化。这与 Lido 和这里的其他协议有着类似之处。为了摆脱中心化，许多协议说它将成为一个去中心化的 DAO（最终），就像 Flashbots。你可以争辩说，它只是把中心化改成更多的层次。然而，增加更多的层次有着有限的优点。最终，在大多数情况下，有一点去中心化总比没有去中心化要好。不过，这也取决于这种去中心化的可攻击性如何。</p>
<p>那么，为什么行为者的参与是如此重要？</p>
<p>验证者希望收集最多的费用/MEV，以便为其用户的 Eth 提供最高的质押率。这是激励验证者挑选由构建者创造的最高价值区块的一个因素。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_m1ns6acl23.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>构建者将汇总来自用户、MEV搜索者和他们自己的私人订单流的交易，以尽可能地制造最高价值的区块。</p>
<ol>
<li>
<p>拥有独家私人订单流的构建者应该可以创造最有价值的区块。</p>
</li>
<li>
<p>一个构建者的区块被持续纳入，会激励更多的私人订单流到达这个构建者，因为用户和搜索者希望他们的交易能迅速被纳入。</p>
</li>
<li>
<p>预先出售未来的区块空间，以便做市商或协议能够为他们的交易或用户确保区块空间。</p>
</li>
</ol>
<p>MEV 区块生产和交易包容动态在本质上创造了一个不公平的市场。如果不直接干预，市场结构就无法得到改善。协议本身必须控制市场，或者有机制来支持它（正如我们所见）。发起者之间的合作（他们在市场上拥有所有的权力）似乎更令人担忧，特别是在一个半去权限，半去中心化的定序器设置中。然而，如果在 MEV 的提取过程中发生了罚没，那么除了交易费用之外，还有什么理由成为一个定序器？</p>
<p>如果你不为安全性释放代币，那么这一点尤其正确，因为你从基础层中获得了安全。因此，人们相信，必须有一个 SBV（搜索者 - 构建者 - 验证者/定序器）供应链。这也可能引致行为者之间的可信社会契约。MEV 在现实中也可能成为一个“问题”，更多的是在应用方面受到攻击，让协议没有直接的干扰。但是在某些情况下，MEV 可以被看作是增加底层协议的安全预算。</p>
<p>在竞争激烈的区块市场中，存在对区块空间的竞争，应用程序最终将转到“MEV”（如优先 gas 费用）。构建者不会在无利可图的恢复上浪费区块空间。MEV 交易的确认速度更快。搜索者将 MEV 转换为优先费，使交易有更高的优先权。因此，应用程序可以将 MEV 纳入设计，并利用它在特定协议内的区块空间市场上购买特权地位。</p>
<p>通过使搜索者和猎手能够轻松地寻找导致 MEV 的良好的可预测状态变化，你可以激励有利的 MEV，增加协议的安全性和效率。将这些有利可图的行动与定序器本身结合起来，他们可以分享这一利润。这将使价值链既落在用户和定序器手中，又增加了协议本身的安全预算。因此，用户分享了他们自己创造的价值。你只能随着一个区块链的成功和采用（成熟度）来扩展它的去中心化。</p>
<h2 id="mev有利有害还是二者并存"><strong>MEV：有利、有害还是二者并存？</strong></h2>
<p>推理 MEV 作用的一种方法是通过链的经济安全角度来看待它。一般来说，这被看作是“保护”该链的价值，被质押的资产数额，或者在比特币的情况下，进行 51% 的攻击所需的资金数额。MEV 是其中的一个重要组成部分，因为它提高了验证者/矿工的收益，因此允许更大的经济价值被质押进来。</p>
<p>以下是两条基本推理路线。其中一条，MEV 被认为是有害的。这里的推理是，从用户那里（不知不觉地）提取的价值对用户体验而言是有害的，而成熟的用户可以从不太成熟的用户那里提取价值。因此，出现了无数防止 MEV 的解决方案，像门槛加密法对交易的预购进行加密，以及用统一的执行价格进行批量拍卖，都是为了防止或尽量减少 MEV 提取。</p>
<p>另一种看法是，MEV 实际上是有帮助的。这里的推理是，MEV 提取提高了被验证者/矿工出售的区块空间的（潜在）价值，因此允许对这些人有更多的收益。由于收益率较高，验证者/矿工愿意投入更多的资产，以获得这些收益率。这将导致该链拥有更多的经济安全。而实现这种经济安全的另一种方式是通过人为地提高收益率，发行更多的原生代币/奖励。然而，这是以代币持有人为代价的，因为他们的资产面临通胀。如果你通过这个观点来看待 MEV，它实际上是一种对代币持有者有利的力量，因为它使他们能够从经济安全中受益，同时面临较少的通胀。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_lzmi8ydphc.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>以太坊上验证者的每日Gas和收益</p>
<p>归根结底，就是你想让疼痛落在哪里。通过允许提取 MEV，你限制了达到一定经济安全水平所需的通胀，而以用户体验为代价。因此，发行（通胀）成为达到某些采用指标所需的效用，这最终将允许你将其降低到微不足道的数额，而 MEV 可以为安全预算做出贡献（并作为协议本身的去中心化）。</p>
<p>然而，通过防止或最小化 MEV（如果可能的话），你加强了一般的用户体验，牺牲了代币持有人的利益，因为你需要更多的通胀来维持经济安全。另一个也许更牵强的理由是，对于一个完全理性的行为者来说，提取最大数额的 MEV 可能不是最优的。因为这将成为用户的负担，他们将停止在链上积极从事经济活动，从而使能在用户的整个生命周期中提取的总金额减少。</p>
<p>虽然我们在上一节中通过基础层的视角来看待 MEV，但同样的论点也可以在应用层面上提出（尽管我们认为这些将与<a href="https://maven11.substack.com/p/the-application-specific-chain-thesis">应用链</a>交织在一起）。Mekatek 的<a href="https://meka.tech/writing/analysing-execution-quality-in-osmosis--e9dd8394-0d09-4d92-a0c7-27629d321af0">研究</a>表明，在 DEX 层面上，你要么允许套利并使 LP 受益，要么不允许套利并以牺牲代币持有者的利益用通胀来补偿 LP。这与我们刚刚介绍的基础设施协议层面上的动态相似。</p>
<p>那么，MEV 是好是坏？我们能给出的最公平的答案是，两者都是，也都不是。从一个角度来看，某些形式的 MEV 可以被看作是坏的，但从另一个角度来看，MEV 也有好处。总的来说，我们相信 MEV 既不是好的也不是坏的，它就是这样。</p>
<h2 id="去中心化定序器"><strong>去中心化定序器</strong></h2>
<p>当你研究 L2 的 MEV 时，要优化提取多少价值的话题变得特别重要。这是因为，就目前的情况而言，大多数定序器是中心化的。它们完全负责一个区块的排序，因此可以决定提取多少价值。然而，就像 Crypto 中的任何中心化点一样，目标是转成非中心化的定序器，在这一点上，你会遇到与 PoS L1 相同的激励博弈理论。定序器背后的经济学可以显示为：</p>
<p>收益 = 发行量（通胀）+ 收取的费用总和 - DA 和争端解决的成本</p>
<p>（请记住，在运行硬件的成本方面，也有开销需要计算）。</p>
<p>通过防止或限制从 L2 提取 MEV，你减少了收集的费用总和，因此运行一个定序器或参与一个去中心化的定序器网络的利润减少。此外，在去中心化定序器组的情况下，你需要考虑各种因素。</p>
<p>需要去中心化定序器的原因很清楚 &ndash; 它去中心化，并将信任假设从构建 rollup 的中心化团队中移除。目前，rollup 定序器的运作方式是，存在一个单一的定序器（由团队运行）来执行、分批和最终确定所有交易。在定序器故障的情况下，这显然是不理想的。此外，它把大量的信任假设放在了控制定序器和允许升级的多签智能合约的团队身上，另外也有在欺诈的情况下的故障证明。它们有能力重新排序交易并提取 MEV。虽然，目前交易最终确定的方式是在假设定序器不会接触、提取或敲诈任何 MEV 或交易的情况下，这就是给我们提供的软最终性，允许定序器在收到交易后立即最终确定。在某些情况下，比如 ZK rollup，实际的最终性要到 10 个小时后才会达到。如果你查看一下以太坊上 Starkware 的 <a href="https://etherscan.io/address/0x47312450b3ac8b5b8e247a6bb6d523e7605bdb60">SHARP stark verifier</a> 合约，就可以发现一个很好的例子，下图就是 ZK 证明（从无数交易中递归证明）的最终确定。这通常是每 3-10 小时进行一次，从处理该批次的第一笔交易开始，这是相当长的争议时间。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_trjw4mmbwz.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_z5zeu9ehtz.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>这样做是为了降低交易的成本，把尽可能多的交易放在一个证明中，否则，交易的成本会急剧上升。这就是交易在 rollup 中被最终确定的方式 &ndash; 它们得到一个软最终性的保证，即最终它们会在底层（在这种情况下是以太坊）被最终确定。在 Optimistic rollups 的情况下，交易反而是分批进行的，状态根（与 ZKRs 相同）与 calldata（交易状态，这只是 ZKRs 的状态差异）一起被发送到 Ethereum 的 L2 合约。由于争议期的要求（回滚欺诈性交易的能力），Optimistic rollup 的交易的实际最终结果要到 7 天左右才会发生。这意味着它们的实际软最终保证会持续相当长的时间，以使观察者能够证明任何已经发生的欺诈行为。这些都是我们在去中心化定序器集时需要解决的问题；软最终性需要得到保证，最终的最终性需要达到，同时允许证明（有效性或欺诈）按预期发挥功能。</p>
<p>下面是一张目前 rollups 运作方式的图片：</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_4w2zccov9c.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>请记住，当你依赖 L1 的共识时，L2 的最终性并不是最终性。当你把链上的共识从 rollup 上移到底层的“结算”层时，这部分是你做出的权衡。除非你也在 rollup 上处理共识（这将失去衍生的安全性，但可以获得主权并利用 DA 层来保证数据的可用性）。然而，这里明显的权衡是你分割了流动性，增加了互操作性的难度。</p>
<p>接下来，让我们来探讨一下去中心化 rollup 定序器的一些可能性，以及这对 MEV 会有什么样的影响。</p>
<p>首先，去中心化的定序器意味着去除我们对单一定序器的信任假设，该定序器由一个有激励机制的团队运行，不接触 MEV 也不重新排序交易。这对 MEV 有一定的“保护”作用。然而，当谈及通过代币的绑定将定序器集去中心化，便开启了去许可或半许可的验证者/定序器集提取价值的可能性，因为他们已经被承诺了 rollup 的代币（如 Fuel 代币模型）。这意味着需要有一个机制来确保区块排序的正确性和合适的罚没。这样做的原因是为了确保定序器集保持有效性，保持公平，不对交易进行推断。比如重新排序，将自己的交易放在池子的第一位 &ndash; 即使他们支付的 gas 费较少，这通常也需要一个公共的 mempool，或者包含保证。</p>
<p>下面是一些例子：</p>
<ul>
<li>
<p><strong>PoS 证明领导者选举。</strong> 这可能是与 Tendermint 的领导选举（因为我们从基础层获得共识），以及一个罚没模块（如 Cosmos SDK 的模块）类似。这至少是我与之交谈过的大多数 rollup 似乎都会采用的方案。然而，也有其他选择。对于 PoS，如果你允许最大的持有者获得最多的区块百分比，那么它将不可避免地导致中心化。或者也可以转到 MEV 拍卖，因为你用机会成本而不是直接付款来进行投标。</p>
</li>
<li>
<p><strong>公平排序（Arbitrum 特别关注这个问题）。</strong> 为了使其正常运作，你还需要一个可罚没的债券（为了保持公平的本质，可以对每个人都一样）。在这种设置中，你“支付”[每区块的机会成本 * 质押的区块数] 以获得在该期间提取 MEV 的权利。为了使公平定序发挥作用，你需要一个公平的定序协议，选择一个公平的事件序列来最终发布。这通常是通过诚实的多数假设来实现的，比如以优先服务排序的形式，由各个定序器合并的交易列表进行排序。因此，该系统是先来后到的，具有 51%-N 的诚实性假设。在不诚实的情况下，系统可以承诺进行社会分叉（如果他们有主权的话）。</p>
</li>
</ul>
<p>第二种选择的问题尤其在于，它变成了一场争先恐后的延迟竞赛，这很可能导致构建者和搜索者尽可能地靠近有关的定序器（就像我们在 Trad Fi 中看到的那样，甚至在加密世界中也是通过优化网络延迟来进行的）。这显然会导致地理集中化。</p>
<p>此外，也有一些围绕 MEV 拍卖（为提取 MEV 和提出区块的权利进行竞标）的讨论，以获得排序名额（特别是来自 Optimism 阵营）。然而，我们认为，尽管它具有去许可的性质，但它还是推向了中心化，而且它的进入门槛非常高。尽管前面提到的一些方法也会导致“中心化”，但它不那么明显，对协议也没那么有害。</p>
<p>一般来说，公平排序机制并不能以任何方式“防止”或缓解 MEV，而不会增加相当大的负面影响。然而，像阈值加密、时间锁谜题、批量拍卖和元 mempools（将 mempool 和区块构建器的角色与共享的聚合/定序器层解开 &ndash; 这在跨域 MEV 领域可能会变得有用，我们稍后也会触及）可能在提供此类属性方面更成功。</p>
<p>现在我们已经看到了定序器目前是如何运作的，以及一些可能去中心化的方法，现在让我们试着想象一下去中心化的定序器集是怎样的，以及它需要什么来保持最终性保证并确保协议按预期发挥功能。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_d3g7ubkmvj.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>去中心化定序器的公平排序示例</p>
<p>上面是智能合约 rollup 中的定序器设置，下面我们将展示通过 PoS 领导选举的主权 rollup（DA 层之上的 rollup）会是什么样子。在公平的排序设置中，没有太多的动机去购买和押注所需的代币数量以成为一个定序器，并且定序器集的总加密经济安全性保持相当低。</p>
<p><img src="https://img.bibiqing.com/news/2023/0209/19_qy5t35sgk6.png" alt="模块化 MEV 系统化整理（Part 1 简介）"></p>
<p>去中心化定序器 PoS 领导选举的例子</p>
<p>在这种设置中，其运作方式非常简单 &ndash; 当选择某一轮的定序器时，委员会只需利用基于质押比重的加权循环方法即可。有了这种方法，任何验证者都可以轻松地计算出某一轮的合格发起者。如果你想阅读 Celestia 上的 NMTs，请查看我们的数据结构<a href="https://maven11.substack.com/p/from-linked-lists-to-namespace-merkle">文章</a>‌。（请记住，在这种设置下，争议窗口有可能被降低，因为你不在以太坊这种竞争激烈的区块空间中）。</p>
<p>此外，也有一些关于领导选举随机化的研究和讨论（<a href="https://github.com/tendermint/tendermint/issues/7858">2017 年在 Tendermint repo 上</a>‌），而这也可能是一种方法，以获得类似于公平排序的设置，但需要有一个随机的发起者（领导），而不是先到先得的方式。虽然，这不鼓励定序器购买和质押更多的代币（加权轮流激励），但这可能会降低协议的经济安全性。</p>
<p>两种不同设置之间的 MEV 提取不同，并可能导致 MEV 的分配和提取不同。此外还有其他需要注意的问题，比如最终性保证、MEV 的抑制方法，我们将在第二部分中讨论模块化MEV中填充空间的各种参与者，以及如何发生合谋。我们还将研究共享的定序器和元 mempool 的设置 &ndash; 所以请关注未来几周的另一个部分。</p>
<p>最后，非常感谢 Mathijs van Esch 参与了本文的写作，并感谢 Josh Bowen 参与了最初导致这一系列文章的讨论。感谢 Mekatek 的审阅。</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/47156/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">美联储报告：比特币具有黄金等价值存储的大部分特征</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/47130/">
                <span class="next-text nav-default">彭博社：德意志银行正洽谈投资两家德国加密公司</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#mev有利有害还是二者并存"><strong>MEV：有利、有害还是二者并存？</strong></a></li>
    <li><a href="#去中心化定序器"><strong>去中心化定序器</strong></a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.5e8c82c5ae3f71b40f78c4ff8ea351326a65ddf5771f76c10c6fc7d09808332d.js" integrity="sha256-XoyCxa4/cbQPeMT/jqNRMmpl3fV3H3bBDG/H0JgIMy0=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
