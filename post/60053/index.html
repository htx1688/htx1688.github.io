<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          ​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来 - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="账户抽象市场的生死存亡取决于生态对 EIP 4337 的采用。" />

  <meta name="keywords" content="区块大全, 区块链, 区块链资讯, 区块链快讯, 区块链新闻, 比特币行情" />






<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/60053/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来" />
<meta property="og:description" content="账户抽象市场的生死存亡取决于生态对 EIP 4337 的采用。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/60053/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-09-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-09-27T00:00:00+00:00" />

<meta itemprop="name" content="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来">
<meta itemprop="description" content="账户抽象市场的生死存亡取决于生态对 EIP 4337 的采用。"><meta itemprop="datePublished" content="2023-09-27T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-09-27T00:00:00+00:00" />
<meta itemprop="wordCount" content="23070">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"/>
<meta name="twitter:description" content="账户抽象市场的生死存亡取决于生态对 EIP 4337 的采用。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-09-27">
      2023-09-27
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 23070 字 -
        预计阅读 47 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E8%A7%82%E7%82%B9/"> 观点 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>本文作者 OKX Ventures 研究员 Kiwi ，不构成任何投资建议。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_me2ll58avt.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p>自 2021 年 9 月 Vitalik Buterin 提出了 EIP-4337 以来，账户抽象概念正逐步被引入到主流Web3钱包中，OKX Ventures 以这一概念的起源为切入点，系统化梳理了账户抽象的过去、现状以及未来机遇。</p>
<h2 id="文章要点">文章要点</h2>
<p>• 关于基础信息：</p>
<p>  ￮ 账户抽象（AA），支持 session key 可以将交易来源和签名解耦，同时帮助用户避免备份私钥、gas 费等复杂操作，降低用户参与 Web3 门槛；</p>
<p>  ￮ 为了简化账户类型，给予链上行为更多自由度，同时将账户放置于更高的安全级别，需要账户抽象。</p>
<p>  ￮ 经历 EIP-86 ，EIP-1014 ，EIP-2938 ，EIP 3074 后，EIP 4337 由于无需改动共识层，基本可以认定为以太坊 AA 的定稿方案。</p>
<p>• 多链账户抽象的两个路线：兼容 4337 方案（4337 compatible method），原生账户抽象方案( native account abstraction)。</p>
<p>  ￮ 兼容 4337 方案：目前 Arbitrum、Polygon、Optimism 和 BNB 没有原生集成账户抽象。不过更多是通过 4337 相关产品进行支持（如 Biconomy、Stackup 等），基础设施的搭建依旧处于概念阶段；</p>
<p>  ￮ 原生账户抽象方案：Starknet 和 zkSync 两条链支持原生的账户抽象，区别于 4337 方案。差异：Starknet 无 Bundler 和 Paymaster，由 Sequencer 确定交易顺序、支付 gas 并执行，zkSync 通过 Operator 确定交易顺序、支付 gas，再调用 bootloader 一起操作；</p>
<p>• 发展数据：以太坊、Arbitrum、Optimism 和 Polygon 已部署超过 52 万个 AA 账户，其中 80% 以上的账户在 7-8 月刚刚创建，大多为 Polygon 和 Optimism 两条链借着 AA 产品的推出达成大幅增长。Bundler 和 Paymasters 目前在做的协议较少，目前各个链上都被 Pimlico、StackUp 等项目垄断。</p>
<p>• AA 带来的机会：</p>
<p>  ￮ Paymaster 由 dApp 部署的智能合约，通过 Bundler 触发 Paymaster 让其为指定的 UserOperation 支付 gas。Paymaster 是标准化服务，难以单独构成独立项目，web2 流量方可作为功能集成来服务web3业务。代付方的商业机会：代付流量入口、自动兑换、与 DeFi 游戏项目集成导流，宏观上类似支付行业的创新情况。Paymaster 创新方向较为单一，但是价值捕获最稳定的一环，降低 web2 用户进入web3 的门槛，可能会有大量web2 机构部署 Paymaster 服务。</p>
<p>  ￮ Bundler 是机会最多的组件之一，其本质和 relayer 类似，盈利方向主要围绕着打包交易延伸出的一系列机会（如赚取 gas 差价、MEV 和偏向 B 端需求的隐私池），但交易打包不成功会导致 bundler 亏钱，因此选交易是难题。</p>
<p>▪ 本身具有节点和 Relayer 服务的协议搭建 Bundler 网络会更容易，如 Rpc 作为分部化设施能帮助 bundler 去中心化；</p>
<p>▪ Bundler 跟 searcher、sequencer 合作是一个更好的选择，未来可能通过 mev share 形式在各个渠道将收入反馈给用户，最终会越来越公平化；</p>
<p>▪ Bundler 目前都是私有池，无公共池，目前仅 stackup 运营好且盈利，Biconomy 一般；</p>
<p>▪ Bundler 是一种盈利较难但是生态十分需要的公共物品，但市面上无成熟的公共物品运营方案，且目前多数项目方处于盈利考虑会更偏向将其私有化；</p>
<p>▪ Bundler 面临的技术改进方向有：避免 nonce 碰撞， p2p 网络可通过标记和删除优化此类问题；以及修改合约 storage 导致 bundler 无法获得足够的补偿，该部分需要通过提案进行后续优化。</p>
<p>   ￮ AA 与 MEV 的结合：AA、Sequencer 和 intent 本质上延长了链上操作的链条，MEV 需要贿赂的链条更长，AA 的 Bundler 和 intent solve 都有可能与 MEV 链条中的 Searcher 等角色合作来形成 MEV share 形式。由于 AA 提供了 Bundler 和 entrypoint 合约，理论上 AA 也能去分享 PEV(Prover Extractable Value) 的收入；</p>
<p>  ￮ NFT：本身使用体验的提升就能吸引更多新用户，同时能让市场监测和交易更加自动化。ERC 6551 与 4337 在用户感知层面，都具备了账户能力，可集成全链游戏、DID 和中间件。后续全链游戏需要 ERC-6551 的可组合型，完成多链 + 可交易装备账号等游戏体验；</p>
<p>  ￮ 社交和游戏：身份基础设施的优化会大大提升产品易用性，且全链游戏操作门槛的降低 + 账号模型优化+多链账户体系将会带来多链游戏世界观；</p>
<p>• AA 与 intent：</p>
<p>  ￮ 本质上，intent 与 AA 没有必然的绑定关系。Intent 本质上是用户体验层创新、更好更快的理解并分解用户需求，将其变成一个或者多个 UserOperation ；AA 是后端优化，对用户指令的更好执行。telegram bot 是典型的 Intent 创新，但后端仍然采用 EOA 钱包，不影响用户体验。</p>
<p>  ￮ Intent 是对特定目标求解其最优 op 路线的过程。过往的 Intent 偏向简单需求，后续可能形成：多条件、多步骤、多执行环境的复杂问题，甚至引入 AI agent。</p>
<p>  ￮ Intent 机会：操作端可减少签名次数，提升用户体验。应用端可依据意图叙事形成新基建、新语言和新的求解形式，是未来最具潜力的用例之一</p>
<p>▪ 中间商意图池 or 意图公链：基于意图的应用程序不仅涉及与智能合约交互的新消息格式，还涉及替代内存池形式的传播和交易对手发现机制。设计一种既兼容激励又不集中的意图发现和匹配机制较困难。</p>
<p>▪ Solver 多样化实现路径：短期已经较成熟的各类 Super Smart Contract 会率先集成，长期看来自由度更高的 AI 将是最理想的形态，但实现难度非常大；Solver 会带来先链下预处理后上链的新范式，利好一些自动化协议（如 Uniswap X） ；目前 ZK 协处理器 Axiom 可作为隐私 solve 的一种 demo。</p>
<p>▪ 新语言来表达意图：目前已有 Juvix 和 Essential，此类项目先发很重要，需要提前构建用户对其的信任；</p>
<p>  ￮ 钱包和入口机会：钱包完全可以作为意图层构建端，其战略地位大大增加，可以成为各个协议的引流基建和入口。Intent 后端可集成传统的 EOA、MPC 和智能合约钱包；交易类和跨链类应用都将随着入口端的多样化改善体验（如自动化、多方案）；</p>
<p>  ￮ ZK 类应用机会：用户的 Intent 有大量加密需求， 4337 本身机制即可满足隐私付费，更深度的集成将在 zkProof 市场中发展。</p>
<p>  ￮ 风险和门槛：意图需要强大的信任预期，对应高准入门槛，导致过于中心化和创新不足。</p>
<p>• 重点项目：</p>
<p>  ￮ 账户抽象市场有两类参与者：一类是具有社交登录与恢复、gas 抽象、交易批处理，以及集成和聚合第三方服务（如法币出入金和 DeFi 协议）等功能的智能合约钱包，该赛道初创项目多，方案初级；一类是 Bundler 和 Paymaster 的模块化提供商，除了 biconomy 和 stackup 外大多处于初期。</p>
<p>  ￮ 重点项目：Biconomy、Stackup 和 Pimlico 是目前市面上较成熟的 4337 方案，继续完善 SDK 和模块化方案有助于占领先发市场，实现技术方案的高市场覆盖率，目前 Stackup 已实现两种类型的 Paymaster 和  Bundler 模式，未来全流程方案 + 多种组件库将是此类龙头项目继续扩大优势的途径。</p>
<p>▪ Pimlico 的 bundler 市占率（全链 bundle 的 userop 占比<a href="https://dune.com/sixdegree/account-abstraction-overview">52%</a> ）和盈利（polygon 上盈利第一， 7 月达 637 MATIC，optimism 上也是正盈利）都领先；</p>
<p>▪ Stackup 各链都有 bundler 业务，Arbitrum（8 月 5 ETH）和以太坊（7 月 0.4 ETH）上盈利领先。bundler 处于失败的多但是赚得也多的状态；</p>
<p> ￮ 创新项目：隐私是硬需求，如 ZK 协处理器 Axiom 可作为隐私 solve 的一种 demo；Nocturne 是可组合的隐私 AA 层，用户从 EOA 或者合约存入资金后与合约交互，利用 zkp 实现隐私保护。AI 是市场热门，如 Echooo Wallet 结合了 MPC 和 AI 技术，可以达成多签和 AI 风险监测；同时基于传统项目的创新也是亮点，如 uniswap 团队的 Universal Paymaster 可以匹配钱包用户和 Paymaster 运营商双方的流动性市场。</p>
<p>• 其他 EIP 和机会：</p>
<p>  ￮ 与 4337 相关的 EIP，由于官方给定了 4337 的方向，目前大多数提案主要围绕着优化 AA 部署的方向。如 ERC 6551 是 4337 衍生产品的辅助；EIP 6662、ERC 6900、ERC 1271、ERC 6492、EIP 7204 与 EIP 7197 均是优化 AA 方向；ERC 7377 则有助于后期账户迁移；</p>
<p>  ￮ 其他获奖项目：以太坊 23 年一二季度共资助了 4 个账户抽象相关的项目，其中两个为 4337 官方团队出品（AA 官方团队和其开发的 4337 浏览器钱包 trampoline），另外两个主要围绕 4337 与现有协议/技术的组合性产生的创新项目（ zkShield 是用 ZKP 和帐户抽象来隐藏帐户所有者的私有多重签名，Uniswap 团队推出的 Universal Paymaster 是作为 ERC-20 Gas 支付的单一流动性匹配市场）</p>
<p>• 未来发展：短期主要是扩张市场，同时和 layer 2 形成共同促进的模式；中期主攻模块化的 Bundler 和 Paymaster 的落地以及 SDK 的部署，同时在细节上优化使用体验（如降低 gas 成本、添加可选的 EOA-to-ERC-4337 转换等）；长期则考虑强制转换 EOA 钱包。</p>
<h2 id="1账户抽象介绍">1.账户抽象介绍</h2>
<p>• 定义和概要：</p>
<p>  ￮ 账户抽象的本质是：交易来源和签名的解耦；</p>
<p>  ￮ 为什么我们需要账户抽象： 1）简化账户类型；2）将账户与签名分离，给予链上行为更多自由度，同时将账户放置于更高的安全级别；</p>
<p>  ￮ 账户抽象的演进：直接区分工程量和复杂度较大，EIP 2938 和 EIP 3074 又需改动共识层，最终选择无需改动底层的 EIP 4337 方案。</p>
<p>• ERC 4337 的原理：</p>
<p>  ￮ 角色：EIP 4337 将智能合约钱包及其相关基础设施标准化为五个合约接口：打包器（Bundler）、入口点合约（Entry Point Contract）、代付合约（Paymaster）、智能合约钱包工厂（Wallet Factory）和签名聚合器（Signature Aggregator）。以及一个新的交易类型（UserOperation）。</p>
<p>  ￮ 交易步骤： 4337  在未修改以太坊共识层的情况下，引入新操作逻辑 useroperation 并加入 Bundler 负责打包 userop。在原先流程后加入 EntryPoint 和 Wallet 合约将验证和执行过程拆分来完成自定义任务执行，最后通过 Paymaster 将 gas 费的支付逻辑抽离。用户发起 userop — userop 被发送到“用户 userop 内存池” — Bundler 负责将选中的 UserOps 打包成一笔交易提交给 EntryPoint — EntryPoint 验证用户操作，智能合约钱包将用户操作执行并纳入区块。</p>
<p>• 4337 与其他方案的对比：</p>
<p>  ￮ EIP-3074 的 AA 方案：需引入两个新的 op code 使 EOA 账户使用合约，涉及到共识层更改，因此被放弃；</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_7ns8r1mn16.jpg" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="11-定义和方案概要">1.1 定义和方案概要</h3>
<p><strong>• 账户抽象是什么:</strong></p>
<p>  ￮ 以太坊有两种类型的账户：外部账户（EOA）和合约账户（ CA），EOA 作为传统方案过于依赖密钥管理和 ECDSA 签名，操作逻辑死板，其让签名权和账户严格绑定的机制会影响新用户的进入和后续发展；</p>
<p>  ￮ 需要一种方案允许用户使用包含任意验证逻辑的智能合约钱包来解决此类问题，这种方案称为账户抽象（Account Abstract, AA），原理是将交易来源和签名解耦。</p>
<p><strong>• 为什么我们需要账户抽象：</strong>  1）简化账户类型；2）将账户与签名分离，给予链上行为更多自由度，同时将账户放置于更高的安全级别；</p>
<p><strong>• 账户抽象的演进：</strong> 直接区分工程量和复杂度较大，EIP 2938 和 EIP 3074 又需改动共识层，最终选择无需改动底层的 EIP 4337 方案。</p>
<p>  ￮ 直接区分：如通过 EIP 86、EIP 101、EIP 859 来增加新的交易类型进行区分；</p>
<p>  ￮ 提升某个类型账户的地位：</p>
<p>▪ EIP 2938 ，让合约账户成为可以支付费用和执行事务的“顶级”账户；</p>
<p>▪ EIP 3074 ，引入两个新的 op code 使 EOA 账户使用合约；</p>
<p>  ￮ EIP 4337 ：引入新操作逻辑 - 用户操作池；</p>
<h3 id="12-erc-4337-基础知识原理">1.2 ERC 4337 基础知识原理</h3>
<p>• 简介： 2021 年 9 月，Vitalik Buterin 与来自 OpenGSN 和 Nethermind 的以太坊研究人员提出了 EIP-4337 。EIP-4337 添加了新的 UserOperation 内存池希望完全取代当前的交易内存池，从而实现账户抽象。</p>
<p><strong>角色</strong></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_467sseadi5.jpg" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p>• UserOperation： 用户需要发起的交易，会被打包发送给 Bundler ，并与其他 UserOperations 一起打包为一个 Bundle；</p>
<p>• Bundler：负责从交易池中选择交易，打包多个 UserOperations 并创建 EntryPoint.handleOps() 交易的节点。</p>
<p>• EntryPoint：处理交易验证和执行 UserOperations 捆绑包的智能合约，它充当了 Bundler 与智能合约钱包之间的中间人：</p>
<p>• Wallet contract：可为 4337 用户创建合约钱包的智能合约；</p>
<p>• Aggregator：用于验证聚合签名；</p>
<p>• Paymaster：可以帮助用户支付 gas 费的智能合约。</p>
<p><strong>交易步骤</strong></p>
<p>• 交易签名：用户发起一个钱包用户操作，使用任意形式的私钥对用户操作进行签名（指令不变，但内容字段变化，可选用非 ECDSA 签名）产生一个带有签名的用户操作（UserOperations），该 UserOp 会被发送到待执行用户操作内存池等待处理；</p>
<p>• 发送交易：Bundler 将用户操作内存池中的用户操作进行打包，后再单独签名一笔交易来包裹用户的指令，批量将 UserOp 处理成一个事务并提交给入口点合约；在将多个 UserOperations 打包在一起后，Bundlers 首先会模拟交易，检测是否会出现合约执行失败，并计算 Gas 费是否足够。若模拟通过就将这批 UserOperations 作为一个交易提交给出块节点；</p>
<p>• 处理用户操作：入口点合约验证钱包是否存在 - 要求钱包验证用户操作 - 将用户操作发送至智能合约钱包进行执行，它充当了 Bundler 与智能合约钱包之间的中间人；</p>
<p>• 区块上链：智能合约钱包将用户操作执行并纳入区块。</p>
<h3 id="13-对比传统钱包和-mpc-钱包">1.3 对比传统钱包和 MPC 钱包</h3>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_2knrgbis0y.jpg" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="14-eip-3074-的aa-方案">1.4 EIP-3074 的 AA 方案</h3>
<p>• EIP-3074 ：需引入两个新的 op code 使 EOA 账户使用合约，涉及到共识层更改，因此被放弃；</p>
<p>• 如果说 EIP-4337 是让 CA 的账户钱包可以像 EOA 那样使用，那么 EIP-3074 就是让 EOA 外部钱包可以拥有智能合约账户的可编程功能。核心是通过签名，许可别人使用我的账户发出指令。</p>
<p>• EIP-3074 加入了两个新的 OpCodes，分别是 AUTH 和 AUTHCALL，它倾向让 User（EOA）可以以合约（Invoker Contract，Invoker 是不可升级的）代理自己执行各种动作，同时让开发者能以一个更具弹性的框架来设计交易物件和验证机制（签章演算法），使任何的 EOA 可以像一个合约帐户（Contract Account）一样运作，却不用自己布署任何合约。</p>
<p>• 优点： 1）自由度更高，可实现例如批次交易、包装交易、手续费缴交、多签等方式；2）可多手续费支付，外部账户也能通过其喜欢的代币支付 Invoker 手续费；</p>
<p>• 缺点：  1）EIP-3074 涉及到庞大的共识层的改动，一旦出问题就需要使用硬分叉（hard fork）来解决问题；  2）由于 EIP-3074 是让 EOA 外部拥有账户拥有智能合约账户的特性，在签名机制上依旧使用固定的 ECDSA 签名，无法像 EIP-4337 那样可以使用任意签名方式；</p>
<p>• EIP-5003 ：是 EIP-3074 （AUTH 和 AUTHCALL）的扩展提案，它引入了新的 AUTHUSURP 操作码。如果使用 EIP-3074 机制，EOA 地址 A 已授权另一个地址 B 代表它行事，则 AUTHUSURP 允许 B 设置 A 的代码。即将现有的 EOA 升级为合约，并允许其从 ECDSA 迁移到更高效或抗量子签名方案。</p>
<h2 id="2多链账户抽象方案">2.多链账户抽象方案</h2>
<p><strong>总结</strong></p>
<p>• 两个路线：兼容 4337 方案（4337 compatible method），原生账户抽象方案( native account abstraction)。</p>
<p>• 兼容 4337 方案：</p>
<p>  ￮ 目前 Arbitrum、Polygon、Optimism 和 BNB 没有原生集成账户抽象。不过更多是通过 4337 相关产品进行支持（如 Biconomy、Stackup 等），基础设施的搭建依旧处于概念阶段；</p>
<p>  ￮ Arbitrum 在今年 7 月已通过对 AA 的端点支持提案；</p>
<p>  ￮ Polygon zkEVM 在其<a href="https://wiki.polygon.technology/docs/zkevm/faq/zkevm-general-faq/">官方文档</a>中表明后续会支持多代币支付 gas；</p>
<p>  ￮ Optimism 和 BNB 提供了部分帐户抽象基础设施，如 <a href="https://www.alchemy.com/account-abstraction">Alchemy</a>、<a href="https://docs.biconomy.io/docs/category/biconomy-aa-stack">Biconomy</a>、<a href="https://docs.pimlico.io/">Pimlico</a> 和 <a href="https://docs.stackup.sh/docs">Stackup</a> 等。</p>
<p>• 原生账户抽象方案：Starknet 和 zkSync 两条链支持原生的账户抽象，区别于 4337 方案</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_y9uey88hzn.jpg" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><strong>兼容 4337 方案</strong></p>
<p>• Arbitrum：</p>
<p>  ￮  Arbitrum 已在 23 年 7 月 17 日通过有关对账户抽象端点支持的 <a href="https://www.tally.xyz/gov/arbitrum/proposal/71941171835710778457735937894689629320431683601089057868136768380925169329077">AIP-2 提案</a>，目前 Offchain Labs 已正式在 Arbitrum One 与 Arbitrum Nova 上激活对账户抽象端点的支持；</p>
<p>  ￮ 该提案称，以太坊研究者提出一种新的 RPC 端点 eth_sendRawTransactionConditional，使 L2 定序器适应 ERC-4337 捆绑器（bundlers）的特定需求。</p>
<p>• Polygon：</p>
<p>  ￮ Polygon 兼容 4337 ，已经释出有关元交易相关的解决方案，如 <a href="https://docs.biconomy.io/docs/category/biconomy-aa-stack">Biconomy</a>（多链中继协议）、 <a href="https://docs.opengsn.org/#ethereum-gas-station-network-gsn">Gas Station Network (GSN)</a> （去中心化公共物品协议，能帮助抽象用户支付 Gas 的过程）、<a href="https://infura.io/product/ethereum/transactions-itx">Infura</a>（节点提供商）和 <a href="https://docs.gelato.network/developer-products/gelato-relay-sdk">Gelato</a>（中继器 SDK，可多代币支付）</p>
<p>  ￮ Polygon 在其<a href="https://wiki.polygon.technology/docs/zkevm/faq/zkevm-general-faq/">官方文档</a>中表明，Polygon zkEVM 通过 ERC 4337 支持帐户抽象并将允许用户使用任何代币支付费用，更多细节待释出。</p>
<p>• Optimism：目前 OP 主网上提供了部分帐户抽象基础设施，如 <a href="https://www.alchemy.com/account-abstraction">Alchemy</a>、<a href="https://docs.biconomy.io/docs/category/biconomy-aa-stack">Biconomy</a>、<a href="https://docs.cyberconnect.me/">CyberConnect</a>、<a href="https://docs.pimlico.io/">Pimlico</a> 和 <a href="https://docs.stackup.sh/docs">Stackup</a> 等项目，架构细节暂未释出；</p>
<p>• BNB：在 BNB 链 2023 年<a href="https://www.bnbchain.org/en/blog/bnb-chain-tech-roadmap-2023/">技术 roadmap 中</a>，官方表示将会建立账户抽象基础设施，目前 4377 已在 BNB 上兼容，待更多细节释出。</p>
<p><strong>原生账户抽象方案</strong></p>
<p>• Starknet 原生支持账户抽象，即所有的帐户都是智能帐户。</p>
<p>  ￮ 方案<a href="https://community.starknet.io/t/starknet-account-abstraction-model-part-1/781">目标</a>：签名抽象（不同的账户合同使用不同的签名验证方案）和支付抽象（不同的交易支付模式和代币形式）</p>
<p>  ￮ 流程：交易在放入池中之前先验证 nouce，后被发送到账户智能合约的地址上进行验证，再添加到区块中。这两个阶段被编码在账户合约中的两个单独的函数中 validate 和 execute。</p>
<p>▪ Sequencer 首先要求账户合约验证交易；为了防止 DoS 攻击，接受交易的 Sequencer 在将交易添加到 mempool 并广播给其他 Sequencer 之前，必须根据已知状态进行本地模拟。</p>
<p>▪ 成功完成模拟后，交易被执行，进入池中并在网络中传播。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_9qm0ua4awq.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><strong>￮ Starknet 和以太坊方案的差异：</strong></p>
<p>▪ Starknet 原生账户抽象中，所有的帐户都是智能帐户，必须包含 validate 和 execution 函数，用户在这两个函数中实现任意逻辑来拓展账户功能。</p>
<p>▪ StarkNet 支持多种椭圆曲线，签名验证高度可编程；validate 通过验证签名确保只有账户所有者才能发起交易，同时保证交易执行者可以获得足够的 gas 费，用户可以在 validate 函数中实现不同的验签算法；</p>
<p>▪ 消除 Bundler 带来的额外复杂性：Starknet 通过指定 Sequencer  来履行 Bundler 的角色从而简化流程；</p>
<p>▪ Starknet 无类似 Paymaster 的交易手续费抽象协议；</p>
<p>▪ Starknet 不区分常规交易和 UserOperations：因为 Starknet 所有交易都是由合约账户触发的。在以太坊中，Bundlers 执行 UserOperation 交易，而在 Starknet 中，序列器（Sequencer）执行所有交易；</p>
<p>▪ 部署合约账户的方式不同：</p>
<p>• Starknet 先部署合约账户才可调用，Starknet 要求有代币余额的账户通过调用一个专门的 deploy_account 函数来创建新的合约账户，这个被部署的帐户合约可以支付 gas；</p>
<p>• EIP 4337 无需提前部署，Bundler 通过执行 initCode 参数不为空的 UserOperation 交易来部署合约账户，部署过程不必须有代币余额的账户，gas 费可以由 Paymaster 代付；</p>
<p><strong>• zkSync：zkSync Era 属于 native account abstraction 方案，但同时 EVM-Compatible。</strong></p>
<p>  ￮ 方案目标：签名抽象（不同的账户合同使用不同的签名验证方案）和支付抽象（不同的交易支付模式和代币形式）</p>
<p>  ￮ 流程：用户从本地将签名的 Transaction 送给 Operator ，Operator 把 Transaction 送给 bootloader 进行验证，完成验证和获取手续费后，booteloader 会呼叫 Account Contract 上的 executeTransaction 来执行交易</p>
<p>  ￮ zkSync 方案与 4337 的差异：</p>
<p>▪ zkSync 不区分 EOA 和合约账户；</p>
<p>▪ zkSync 允许 validateTransaction 函数调用已部署的外部合约：因为已部署的合约在 zkSync 中是不可更改的（immutable）；而以太坊禁止验证函数调用外部合约，以防止状态更改（state change）造成交易验证通过而交易执行失败；</p>
<p>▪ zkSync 允许 validateTransaction 和 Paymaster 调用发出此交易合约账户的外部存储：如合约账户在外部合约上的代币余额，而以太坊禁止。</p>
<h3 id="zksyncstarknet-和-4337-方案比较">zkSync、Starknet 和 4337 方案比较</h3>
<p>• 相似：</p>
<p>  ￮ zkSync、Starknet 和 4337 的 AA 机制流程都相仿，皆为 Verification Phase → 手续费机制（由 Account Contract 支付或者 Paymaster）→ Execution Phase；智能合约钱包接口分为 validateTransaction 和 executeTransaction；</p>
<p>  ￮ 面相 DoS 威胁：zkSync 的合约逻辑只允许触碰自己的 slots，其合约逻辑不可以使用到 Global 变量；Starknet 的 Sequencer 在将交易添加到 mempool 并广播之前，要求其必须进行本地模拟；4337 的 UserOperation 为 validateUserOp 步骤做了 gas 限制，且 Paymaster 需质押代币。</p>
<p>• 差异：</p>
<p>  ￮ 原生 AA：zkSync 和 StarkNet 都是原生账户抽象，架构区别于 4337 ；</p>
<p>  ￮ 链上 Gas 消耗： zkSync 和 StarkNet 都是 layer 2 ，需要考虑 Rollup 费用；</p>
<p>  ￮ 执行 AA 的角色不同：zkSync 架构中 Operator 和 bootloader（System Contract）配合完成 User operation； StarkNet 中 User operation 由 Sequencer 负责，没有 Bundler 和 Paymaster 机制；4337 中  Bundler 与 EntryPoint 协作执行  User operation；</p>
<p>  ￮ 是否可以在 Account Contract 部署前送出交易：在 StarkNet 和 zkSync 中都没有像 4337 的 EntryPoint 有 initCode 这个 field 能让其替用户部署 Account Contract，所以都不可以在部署账户前送出交易；</p>
<p>  ￮ 调用外部合约：zkSync 允许 validateTransaction 函数调用已部署的外部合约；而 4337 和 Starknet 都不可以；</p>
<p>  ￮ Paymaster 的验证规则：</p>
<p>▪ Starknet 无 Paymaster；</p>
<p>▪ 4337 Paymaster 接口定义了 validatePaymasterOp 和 postOp 两个函数，前者定义了 Paymaster 代付交易的逻辑，后者可以确保在交易执行后，Paymaster 能够抽取 gas 费补偿。Paymaster 需要在入口点合约上存入以太坊（支付 gas）和质押以太坊（防止机器人恶意批量创建）；</p>
<p>▪ zkSync 类似 4337 ，接口定义了 validatePaymasterOp 和 postOp 两个函数，逻辑和 4337 一样，但这部分功能尚未实现。且 zkSync 的 Paymaster 在 gas 足够时调用 postTransaction 才会开始执行，这个部分有别于 4337 ， 4337 如果在 validatePaymasterUserOp 没有回传 context 的情况下不会呼叫 postOp，反之才会。</p>
<h2 id="3发展数据">3.发展数据</h2>
<p>• 总结：</p>
<p>• 以太坊、Arbitrum、Optimism 和 Polygon 已部署了超过 52 万个 ERC-4337 账户，其中 80% 以上的账户是 7 月刚刚创建的；</p>
<p>• Polygon 和 Optimism 在 7-8 月借着 AA 产品的推出达成大幅增长：Polygon 是由 CyberConnect 网络的推出带来一波流量，Optimism 是由 Beam 钱包和 ZeroDev 带来的增长；</p>
<p>• Arbitrum 和以太坊的热度较低，仅有几百至几千的 userops；</p>
<p>• Bundler 和 Paymasters 目前在做的协议较少，目前各个链上都被 Pimlico、StackUp 等项目垄断。</p>
<h3 id="概括数据">概括数据</h3>
<p>• 4337 的热度从 23 年 7 月起开始飙升，其叙事在 Polygon 和 Optimism 中率先开启，cyberconnect 是此次 AA 热潮的主要拉动方。Paymaster 和 Bundler gas 和交易量大幅增长，目前 StackUp、Pimlico 和 Biconomy 形成垄断地位。</p>
<p>• ERC-4337 EntryPoint 合约于 23 年 3 月 1 日正式部署。截止 23 年 8 月 30 日，账户抽象链上总用户数约为 616000 名，总 User Op 达 130 万次。与 23 年第一季度相比， 2023 年第二季度的季度用户运营增长了 11, 837% ，用户增长超过 27, 000% ；</p>
<p>  ￮ 目前以太坊、Arbitrum、Optimism 和 Polygon 均已经部署 4337 账户，其中 80% 以上的账户是 7-8 月在 Polygon 和 Optimism 创建的。Polygon 以 43.9% 的用户操作率遥遥领先，且在账户钱包用户中，Polygon 以 47% 的份额遥遥领先。此外，Stackup 在其中赞助了超 14 万美元的 Gas 费。</p>
<p>• Paymaster：目前 Paymasters 总数为 96 个，Gas 总成本约为 41.42 万美元。相比 23 年一季度，二季度 <a href="https://www.alchemy.com/overviews/what-is-a-paymaster">Paymaster 交易量增长了 5182%</a> 。gas 总量和交易量的增长表明对这些中介服务的需求正在大幅增长；</p>
<p>• Bundler：目前 Bundlers 总数为 1300 个，总收入约为 3.38 万美元。以太坊 8 月 bundler  约为 1000 位，其中 <a href="https://dune.com/johnrising/erc-4337">Stackup 占比 94% （940+）</a>，对该组件形成垄断。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_1fcys3sm29.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_6we9kn6wgy.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="polygon数据">Polygon 数据</h3>
<p>• 目前有 34 万账户数，共 56 万 userops，主要是今年 7 月经历了使用量的飙升，有 44 万笔的 userops。</p>
<p>• 主要因为 CyberConnect 社交网络的推出，该网络的所有账户都是 ERC-4337 钱包。其次是 Biconomy，提供了近 3 万的账户部署；</p>
<p>• 7 月和 8 月的 Bundler 和 Paymasters 主要由 Pimlico 提供。</p>
<p>• Pimlico 是一种加密基础设施，旨在增加账户抽象的采用。Pimlico 将专注于为 Bundlers 和 Paymasters 提供全面的基础设施。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_wpcoy32w7l.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_nh3o42d59i.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="optimism-数据">Optimism 数据</h3>
<p>• 目前有 15 万账户数， 40 万的 userops， 8 月份的 ERC-4337 使用率和 UserOps 数量相比 7 月份大大提升，主要是由推出的 Beam 钱包（使用户可以用转账中使用的币来支付手续费，而不用区块链的原生代币）和 ZeroDev （一个建立在 ERC-4337 之上的 SDK，用于构建由帐户抽象提供支持的Web3 应用程序）建立。</p>
<p>• Bundler 和 Paymasters 主要由 Pimlico、alchemy 和 StackUp 提供；</p>
<p>• StackUp 的 SDK 可以使用 ERC-4337 建立自定义的Web3 交易流程和钱包。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_h38uzjpt0s.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_tqvpapk8rn.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="arbitrum-数据">Arbitrum 数据</h3>
<p>• 目前有 2200 账户数， 1 万 8 的 userops， 7 月 8 月的增长主要来自 Zerodev 和 Biconomy，其余多为用户测试。</p>
<p>• Bundler 和 Paymasters 基本由 StackUp 建立。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_5rt42b91vh.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_a9fv5l0hle.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="以太坊数据">以太坊数据</h3>
<p>• 目前仅有 339 个账户， 2100 个 userops，账户部分基本均由 Zerodev 作为主要贡献、Safe 和 Biconomy 等项目产生的 userops 很少，剩余大部分 UserOps 是由用户铸造和转移 stETH、cbETH 和 rETH 产生的。</p>
<p>• Bundler 和 Paymasters 基本由 StackUp 建立。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_hak2s863nz.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_f31nacm3ps.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_amikkqb5ps.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h2 id="4由aa带来的机会">4.由 AA 带来的机会</h2>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_pc9rkvryzh.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="paymaster">Paymaster</h3>
<p>• Paymaster 由 dApp 部署的智能合约，通过 Bundler 触发 Paymaster 让其为指定的 UserOperation 支付 gas；其服务相对中心化（与 bundler 服务相比），合约开源，但后端封闭。</p>
<p>• Paymaster 是标准化服务，难以单独构成独立项目，web2 流量方可作为功能集成来服务web3业务。代付方的商业机会：代付流量入口、自动兑换、与 DeFi 游戏项目集成导流，宏观上类似支付行业的创新情况。</p>
<p>• Paymaster 创新方向较为单一，但是价值捕获最稳定的一环，降低 web2 用户进入web3 的门槛，可能会有大量web2 机构部署 Paymaster 服务。</p>
<h3 id="应用场景">应用场景</h3>
<p>• 法币存款：可提供需要链下交易（如法币出入金）的 gas 抽象。如用户可以选择使用信用卡订阅 Paymaster 服务来支付 gas 费。</p>
<p> ￮ Biconomy 和 0x Pass 与 Transak 合作提供法币通道；</p>
<p>  ￮ Argent Vault 与 Moonpay、Transak 和 Wyre 合作提供法币通道，并具有内置的 DeFi 协议聚合器；</p>
<p>  ￮ Etherspot、UniPass 和 Braavos 支持法币通道；</p>
<p>• 掉期：为防止 gas 波动，可将 Paymaster 集成掉期功能，在特定时间以约定 gas 费用支付；</p>
<p>• 桥接：如 MetaMask 已经通过和第三方供应商合作的方式把跨链桥集合在钱包中，这些跨链桥可以进一步与 gas abstraction 中的代付合约（Paymaster）进行集合。</p>
<p>  ￮ Biconomy 提供跨链桥和跨链通信服务；</p>
<p>  ￮ Etherspot、UniPass 和 Braavos 支持 swap 和跨链桥。</p>
<p>• 会话：可在 Paymaster 集成 Session keys，即用户根据一组参数预先批准一个应用的交易，如一个给定的持续时间，一个最大的 Gas，一个特定代币的最大交易量，或一个特定合约的特定功能等。用例如下</p>
<p>  ￮ 在全链游戏中达成用户友好，即不间断地进行游戏，无需每个操作都需签名确认；</p>
<p>  ￮ 能够在确认之前设置多个 DeFi 头寸；</p>
<p>  ￮ 链上填写多个表格，无需每次都进行确认；</p>
<p>  ￮ 在钱包 / 库存中重新安排资产，而不必在每次更改时确认。</p>
<p>• 多形式代付：通过多种形式的集成甚至可以让 Gas 彻底在用户端“隐身”。</p>
<p>  ￮ 开发者代付：应用开发者可以很容易地为他们的用户补贴费用，例如作为一种获客手段；</p>
<p>▪ UniPass 使用自己的 Relayer 节点支付 gas，计划在未来添加“观看广告免 gas 交易”模式并支持使用跨链桥（bridge）支付 gas。</p>
<p>  ￮ 赞助费/广告费：可与一些广告商集成，让用户做任务即可免 gas，如点赞某条视频，转发某条推文等；</p>
<p>  ￮ 中心化机构：比如与 OKX 交易所结合，绑定 OKX web3 账号与交易所账号，paymaster 可通过扣除交易所账户余额来帮助链上地址进行 gas 代付；</p>
<p>  ￮ 多币种/方式代付：paymaster 提供与链下流程相关联的 gas 抽象。用户可以使用 ERC-20 代币或信用卡或其他订阅服务等链下支付方式支付 gas 费；</p>
<p>▪ Biconomy 不仅自行实现了与 EIP 4337 兼容的 Paymaster，还有一个支持任意 ERC 20 代币支付 gas 的 Relayer 网络。</p>
<p>  ￮ 自动支付：Visa 在 StarkNet 上实施可委托账户解决方案，从而为自托管钱包启用自动支付功能；</p>
<p>  ￮ 自定义化的代付逻辑：如 Stackup 的用户也可以定制 gas 代付的逻辑，Stackup 将通过“按需付费”（pay as you go）模式向用户收费。</p>
<p>• 与 Entry point 的结合：Paymaster 需要在 Entry point 合约上存入以太坊用于支付 UserOperation 的 gas，还需要在 Entry point 合约上额外质押以太坊防止机器人恶意批量创建 Paymaster。这里就存在由于它的质押行为产生的一系列和 Defi 协议的集成机会，如贷款和流动性池等。</p>
<h3 id="bundler-与上下游">Bundler 与上下游</h3>
<p>• Bundler 打包交易产生多个盈利机会：</p>
<p>  ￮ 赚取 gas 差价：Bundler 收取多笔交易 gas 费与提交交易的 gas 差价，RPC 和 Relayer 协议可以快读搭建 Bundler 网络，合约扫描工具和安全审计协议可以保护 bundler 提交的 mempool 安全；但 bundler 选取交易不当导致打包不成功，会导致 bundler 亏损：</p>
<p>  ￮ Bundler 参与 MEV 分配 ： Bundler 的 mempool 会允许类似于 MEV 市场参与者的结构，长期可能会与 现有 MEV 市场玩家结合，形成更长的 MEV share 的贿赂链条。Bundler 与 Searcher、Bundler、 Sequncer 甚至 Prover 共同分享 MEV、PEV 的收入。</p>
<p>  ￮ 隐私池：将交易提交到隐私 mempool 打包，部分机构和巨鲸用户有需求，但面临监管压力。</p>
<p>• Bundler 的未来挑战：</p>
<p>  ￮ Bundler 是一种盈利较难但是生态十分需要的公共物品：而目前没有针对公共物品的成熟解决方案；若将其作为商业项目，大多数项目方处于盈利考虑会更偏向将其私有化，这会导致中心化威胁；</p>
<p>  ￮ nonce 碰撞：一个 UserOperation 若同时被不同的 Bundlers 提交就会导致仅有一笔交易成功，其他 Bundlers 都会因上链失败而损失 Gas。在 AA 大规模采用前除主动禁用可疑账户外无好的过渡方案，大规模采用后一些 p2p 网络可通过标记和删除优化此类问题；</p>
<p>  ￮ 修改合约 storage 导致 bundler 无法获得足够的补偿：验证和上链过程中，合约的 storage 若因市场变动被修改则会导致 bundler 无法获得足够的补偿。该问题偏细节，暂无较好解决方案，需要通过提案进行优化。</p>
<h3 id="bundlers-相关机会">Bundlers 相关机会</h3>
<p>• 赚取 Gas 费差价：Bundler 收取多笔交易 gas 费与提交交易的 gas 差价，RPC 和 Relayer 协议可以快读搭建 Bundler 网络，合约扫描工具和安全审计协议可以保护 bundler 提交的 mempool 安全；但 bundler 选取交易不当导致打包不成功，会导致 bundler  亏损：</p>
<p>  ￮ Relayer 服务的衍生：bundler 底层逻辑类似 Relayer，此类项目有成型案例，因此有先发优势。如 Chainlink 提供喂价的同时也可自己搭建 bundler p2p 网络；Layer Zero 作为多链合约可能在未来构建多链 UserOp 流动池；The Graph 的 indexer 也具有索引（搜索）有利可图 UserOp 的效用；uniswap 也可推出针对 Defi 业务的 UserOp fillers 版本；</p>
<p>  ￮ 区块链 RPC 服务：Rpc 是一种将 dapp 连接到区块链的分部化设施，能帮助 bundler 去中心化。如公链自己提供的 RPC 服务、中心化服务商如 Alchemy 和 Infura、去中心化服务商 Pocket Network 等；</p>
<p>  ￮ bundler 安全：bundler 理论上可以参与任意数量的内存池，但 ERC 只保证规范内存池安全，任何其他内存池的安全性由其参与者单独评估。若它加入恶意内存池则会影响整个 UserOp 包的安全性，因此 bundler 项目方应加入抗攻击/安全扫描机制。CertiK、慢雾等项目可推出安全审计服务，也为 Cyberscan 这类合约地址扫描工具提供了机会；</p>
<p>• Bundler 参与 MEV 分配 ： Bundler 的 mempool 会形成类似 MEV 市场参与者的结构，长期可能会与 现有 MEV 市场玩家结合，形成更长的 MEV share 的贿赂链条。Bundler 与 Searcher、Builder、 Sequncer 甚至 Prover 共同分享 MEV、PEV (Prover Extractable Value) 的收入。</p>
<p>  ￮ Bundler 数据服务：提供 MEV 或内存池数据分析服务，参考 Eigenphi；</p>
<p>  ￮ 私有订单池：新的 dapp 可以在建立交易服务的同时构建一个协议专属的区块中继层。用户使用该协议所产生的所有交易都将进入专属私有池，搜索者需要通过支付费用来获得专属的订单流从而进行套利。协议层则可以将搜索者支付的费用回馈给用户（如免 Gas 服务）来吸引更多的用户进入协议交易。</p>
<p>  ￮ 交易拍卖服务：如 Suave 的拍卖机制：参与者可以通过竞价来表达他们对某种用户 intent 的兴趣和支付意愿；或 Cowswap 的聚合器机制：它通过批量拍卖为用户提供 MEV 保护。当两个交易者各自持有对方想要的资产时，可以在他们之间直接结算订单，而无需外部做市商或流动性提供者。</p>
<p>  ￮ 形成 Bundler 共识：若形成共识将完全消除 AA 中提取 MEV 的可能性，但目前 4337 的 Gas 和细节机制暂未搭建，且 UserOp 实施复杂度更大，所以此方案偏理想化；</p>
<p>  ￮ 向上游集成：参考 Starkware 和 flashbot 的方案，Bundler  和 Searcher、 sequencer 合作打包到上链的一系列服务，共享交易收入；</p>
<p>  ￮ Bundler solver：UserOp 带来了不同的 Gas 利润预期和链上执行复杂性，且 Bundlers 需要制定自己的交易 Gas 参数和交易方案，这会影响区块构建者执行交易的优先级。在不同的市场 Gas 价格和 Gas 波动性条件下，Bundlers 可能会有不同的 MEV 打包策略，这些验证和策略计算需要消耗本地硬件计算资源和区块链节点资源。因此可能会有针对 Bundlers 的求解器方案；</p>
<p>  ￮ 形成新的抗审查机制： 4337 不适用于 crLists 抗审查机制，因为目前 UserOperation mempool 无法与 crLists （强制验证者将交易添加到 mempool 的区块中的机制）结合，该机制仅针对交易，会错过用户操作。</p>
<p>  ￮ RPC 服务：可为用户提供私有 RPC，并承诺通过该 RPC 广播的交易不会被抢跑，比如 Flashbot Protect RPC 和 OpenMEV RPC；</p>
<p>  ￮ PEV：证明者试图在数据上赚取更多利润，他们会在以太坊或其他协议，甚至是一些 Rollup 上使用这些数据获利而非用于证明。</p>
<p>• 隐私池：将交易提交到隐私 mempool 打包，部分机构和巨鲸用户有需求，但面临监管压力。</p>
<p> ￮ 匿名隐私池服务：Portal Gate  允许用户用不同的钱包进出隐私池，在链上保持匿名和合规，但前提是需要在链外通过 KYC；</p>
<p>  ￮ 暗池交易：Renegade 基于多方计算 (MPC) 和零知识证明开发了去中心化的暗池交易。</p>
<h3 id="bundler未来挑战">Bundler 未来挑战</h3>
<p>• Bundler 协议是无需许可（permissionless）且模块化（modular）的公共物品，开源软件本身没有清晰盈利模式，无法直接从 Bundler 直接抽成。 Bundler 运营方没有动力公开 Operation pool，而 隐私 mempool 有中心化风险：</p>
<p>  ￮ Bundler 协议本身盈利困难：开源的 Bundler 协议是 非排他性和非竞争性的，任何 RPC 端点都复制开源代码来运行一个 Bundler。作为一种典型的公共物品， Bundler 无法获取对应的经济激励，这非常类似于 Flashbots 的现状。Bundler 协议仍然处于早期阶段，需要持续优化，因为 UserOperation 的验证和执行需要尽可能多的 Bundler 参与从而更好地去中心化。</p>
<p>  ￮ Bundler 中心化：目前只有少数项目提供运行捆绑程序的应用程序接口服务，也导致了 4337 的集中化。未来 Bundler 可能由于先发优势形成垄断，这也会加剧中心化威胁；</p>
<p>  ￮ Bundler 不公开 Op pool：目前没有 Bundler 公开池返还收益的机制，Bundler 依靠其私有池内交易获取服务费用，没有动力公开交易池；且 公开池的性能无法得到保证，会面临 DDoS 的攻击和 MEV 的风险。从技术架构、经济收益、分配模型等多个层面，公开 Op pool 都没有准备好。</p>
<p>• nonce 碰撞导致交易失败：</p>
<p>  ￮ 如果一个 UserOperation 同时被不同的 Bundlers 提交。那么只有一笔交易会成功，即只有一个 Bundler 会从 EntryPoint 接收到 Gas 费用，所有其他 Bundlers 都会因链上失败而损失 Gas；</p>
<p>  ￮ 在 AA 大规模采用之前，可主动禁用该笔 UserOperation 的 sender 或 IP 地址，但是这会导致误伤用户且治标不治本。目前仍需较好的过渡方案；</p>
<p>  ￮ 在 AA 大规模采用之后，一种方案是采用 p2p 网络，如开发了 Skandha bundler 客户端的 Etherspot 正在开发 mempool 的 p2p 网络。</p>
<p>  ￮ 等待打包的 UserOperations 将在这个p2p网络中传输，一旦捆绑并在链上处理，它们将被标记并从列表中删除。</p>
<p>• 修改合约 storage 导致 bundler 亏损：</p>
<p>  ￮ 在验证以及执行上链的过程中，用户可能会修改合约的 storage 或者是关联合约的 storage，导致 bundler 无法获得足够的补偿。</p>
<p>  ￮ 举例，如果一个用户发送的 UserOp 需要消耗 1 个 eth 的 gas，此时 eth 的价格为 1000 u，用户账户内有 1000 u，Paymaster 准备扣除 1000 u 作为 gas 支付，接下来 bundler 在执行上链的过程中代为支付了 1 个 eth，然而就在验证交易之后，上链完成之间的这个间隙，eth 突然暴涨至 2000 u，bundler 仍然支付了一个 eth 的 gas，但是由于已经验证通过，用户只需要按照之前的逻辑支付 1000 u 即可，bundler 净亏损 1000 u。预言机合约就是上述所说的关联合约，价格变化即为 storage 修改。</p>
<h3 id="aa-与-nft">AA 与 NFT</h3>
<p>• AA 提升使用体验，吸引用户进入 NFT 市场，同时让市场监测和交易更加自动化；</p>
<p>• ERC-6551 ，NFT 集成 全链游戏、DID 和中间件：ERC-6551 与 4337 底层逻辑类似， NFT 作为钱包集成、管理其他 NFT。全链游戏需要 ERC-6551 的可组合型，完成 多链 + 可交易装备账号等游戏体验。</p>
<p>• 功能：钱包恢复、支持无 Gas 交易、账号交易。</p>
<p>• 市场监测和数据分析：实现跟踪指标、计时铸币和分析底价等，并在达成某个条件时自动交易；</p>
<p>• 全链游戏与 NFT 的结合可以更紧密：多链开放世界成为可能，用户的账户不再局限于一个游戏、一条链，游戏账户也可转让，也可能由此产生游戏 NFT 账号交易市场；</p>
<p>• 与 DID 和中间件的集成：ERC 721 代币可以作为用户的账户，其具有可转让性。同时 NFT 还可与中间件架构集成并可定制化。</p>
<p>  ￮ 如 Cyberconnect 的 CyberID 是 ERC-721 代币，代表在 CyberConnect 网络中独一无二的账户 Handle。CyberID 不意味着有永久所有权，而是按照一个基于需求的费用模型运作，如果用户忘记续期，其 CyberID 就会被拍卖；</p>
<p>  ￮ CyberGraph 还通过中间件架构为开发者提供可以定制逻辑的空间，比如一个 DApp 想要为 BAYC 社区建立一个社交网络，那么可以设定只有 BAYC 持有者才能铸造他们特定的内容 NFT。</p>
<p><a href="https://eips.ethereum.org/EIPS/eip-6551"><strong>ERC 6551</strong></a> </p>
<p>• 简介：ERC-6551 将为所有 ERC-721 Token 提供一个智能合约账户，这些账户不仅能够使得 ERC-721 Token 拥有 ERC-20、ERC-721、ERC-1155 等各类资产，还能使 ERC-721 Token 能够与各种应用程序交互。</p>
<p>• 实现了 DID 的可转移：用户所有的 DID 或相关资产可以转绑定到一个 NFT 上，同时可以实现的是资产和身份的可转移、它是一个可以让 NFT 去持有资产的一个协议。即 NFT 就是你的一个 ID，然后在这个 ID 上你可以去拥有一些资产；</p>
<p>• 效用：ERC 6551 是一种对 AA 的普及有很大助力的协议，底层逻辑相似。</p>
<p>￮ 类似在 AA 账户里实现一种 NFT 关联的鉴权方式，如果发起转账请求的 Key 是一个以太坊地址，并且该地址拥有某个预先登记的 NFT，那么鉴权通过，可以解锁账户。NFT 游戏装备穿戴的逻辑可以变成“把装备 NFT 打给人物 NFT 的绑定地址”。</p>
<h3 id="aa-和社交游戏">AA  和社交、游戏</h3>
<p>• 社交赛道曾经因为用户数量的问题和操作复杂度而一直被认为是“鬼城”，而通过 4337 的抽象化，本身就会带来大量的新用户，同时身份基础设施的优化会大大提升产品易用性，且全链游戏操作门槛的降低 + 账号模型优化让曾经较为困难的买卖账户都成为可能（如 ERC 6551）。且多链账户体系将助力更庞大的多链世界观，社交与全链游将是未来风口之一。</p>
<p>• 身份基础设施：</p>
<p>  ￮ 社交恢复：作为最基础的功能将集成在各个 4337 社交协议的账户中；</p>
<p>  ￮ 身份注册：允许使用邮件或电话号码等方式注册智能合约钱包，如 CyberConnect 推出的 V3 版本。</p>
<p>• 多链账户体系：如 CyberConnect 的身份账户具有多链通用性，利用帐户抽象来消除网络切换的复杂性，降低用户使用门槛；</p>
<p>• 优化游戏体验：</p>
<p>  ￮ 批量操作：通过 Session keys 可达成批量交易处理和委托签名等，降低操作门槛，达成只需一次签名即可挂机打游戏的场景；</p>
<p>  ￮ 更多游戏形式：有更多步骤的策略游戏将不会受到多次签名的困扰，更庞大的多链世界观将有可能出现，全链游戏的复杂度和趣味性会进一步提升。</p>
<h2 id="5aa-和-intent-关系">5.AA 和 Intent 关系</h2>
<h3 id="intent-本质和分类">Intent 本质和分类</h3>
<p>• 本质上，本质上，intent 与 AA 没有必然的绑定关系。Intent 本质上是用户体验层创新、更好更快的理解并分解用户需求，将其变成一个或者多个 UserOperation ；AA 是后端优化，对用户指令的更好执行。</p>
<p>• Intent 是对特定目标求解其最优 op 路线的过程。过往的 Intent 偏向简单需求，后续可能形成：多条件、多步骤、多执行环境的复杂问题，甚至引入 AI agent。</p>
<p>• 举例 1 ：telegram bot 是典型的 Intent 创新，但后端仍然采用 EOA 钱包，不影响用户体验。</p>
<p>• 举例 2 ：「我想买一千美金的以太坊」，求解器需要计算在哪条链、哪个 dex、滑点区块时间等参数如何设置，生成一个对应的 UserOperation ；后端可以是 EOA、MPC or AA 钱包。</p>
<p>• 举例 3 ：目前已经有些项目是“意图”叙事的前身，如1inch 的 DEX 聚合器：用户只需指定输入金额和滑点容忍度，然后让合约找到最佳操作；Flashbots 拍卖中搜索者对交易顺序的偏好也是一种“搜索者意图”。未来的意图会有更多形式。</p>
<p>• Intent 的分类：</p>
<p>  ￮ 条件 Intent ：在满足一个或多个条件时执行某个操作；可理解为“if 语句”，当达成某个条件时，即实施某种行为，如金融中的止损行为；</p>
<p>  ￮ 连续 Intent：表达对重复性操作的需求；每当达到某个不断循环的时间段或场景，就实施某种行为，如每月定投；</p>
<p>  ￮ 多步 Intent：一个意图解决后，打开一个或多个新的意图；可以视为状态机，当每个交易从前一个状态过渡到新状态，就实施某种行为。过渡到的新状态取决于前一个状态定义的条件。如“想购买以太坊，当价格低于 xx 时购买并转给某个钱包，若价格高于 xx 就自动寻找是否有套利机会”；</p>
<p>  ￮ Intent 图表：由一组相关意图形成的路径；意图之间的关系可以形成嵌套式的意图图表，如用户表达了在各种条件下购买和出售某种代币的意图，例如治理提案结果、特定区块的挖掘、市场价格的增加和减少。</p>
<h3 id="aa-让-intent-更加高效">AA 让 intent 更加高效</h3>
<p>• Intent 机会：操作端可减少签名次数，提升用户体验。应用端可依据意图叙事形成新基建、新语言和新的求解形式，是未来最具潜力的用例之一。机会主要有以下几个方面：</p>
<p>• 1） 中间商意图池 or 意图公链：基于意图的应用程序不仅涉及与智能合约交互的新消息格式，还涉及替代内存池形式的传播和交易对手发现机制。2）Solver 多样化实现路径：短期已经较成熟的各类 Super Smart Contract 会率先集成，长期看来自由度更高的 AI 将是最理想的形态，但实现难度非常大；Solver 会带来先链下预处理后上链的新范式，利好一些自动化协议（如 Uniswap X） ；目前 ZK 协处理器 Axiom 可作为隐私 solve 的一种 demo。3）新语言来表达意图：目前已有 Juvix 和 Essential，此类项目先发很重要，需要提前构建用户对其的信任。4）钱包统一入口：作为意图层构建端，其战略地位大大增加，与各类协议集成让其可能成为最大的引流入口。</p>
<p>• 中间商意图池：意图从用户流向许可/免许可和公共/私人意图池，由撮合者转换为交易，并最终通过 MEV Boost 式拍卖进入公共内存池或直接在链上。这些意向池可私有可公共，权限也可自定义，意向解决者为获得最佳订单执行和价值提取来竞争获利。</p>
<p>  ￮ 无需许可意图池：它允许在系统中的各个节点之间传播意图，为执行者提供无需许可的访问。但是可能带来 DoS 威胁和 MEV 问题。</p>
<p>  ￮ 许可意图池：受信任的集中式意图池更能抵抗 DoS，高信任度的模型还可缓解 MEV 的担忧，也能提供一些激励来保障良好的执行力。但是强信任假设与区块链的精神有一定矛盾点；</p>
<p>  ￮ 混合意图池：可以进行许可传播，但无需许可执行（假设信任假设成立），该方案的一个常见示例是<a href="https://writings.flashbots.net/order-flow-auctions-and-centralisation-II/">订单流拍卖</a>。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_1cfef6gavz.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p>• 意图公链：构建独立的意图层，将进一步集中 MEV 的隐患；</p>
<p>  ￮ Anoma 和 Flashbots SUAVE 正在构建意图传播层，用户可以将签署的意图广播到传播节点；</p>
<p>• Solver 多样化实现：Super Smart Contract、AI、隐私和链下预处理新范式。</p>
<p>  ￮ 合约集成智能合约：短期已经在落地，该方案较容易集成，和当前智能合约钱包路径相似；CoW Protocol 为交易者和求解器构建了一个网络，实现了无需信任和高效的点对点交易；Zerion、Bprotocol、Instadpp 都在做类似的集成。</p>
<p>  ￮ 链下预处理与链上结合的新范式：链下预处理环境成熟稳定后，类似 Uniswap X 的自动 DeFi 协议可能成为 DeFi 交易中枢。“链下”预处理是一套 Solver 预处理机制，可视为已有智能合约框架的结构化意图延展，和 Rollup 是一个思路。</p>
<p>  ￮ 隐私需求：</p>
<p>▪ 防止恶意攻击，用户可能希望隐藏一些意图信息。目前 ZK 协处理器 Axiom 可作为隐私 solve 的一种用例，但是该赛道仍缺乏成熟方案；</p>
<p>▪ 技术上实现链上可计算信息私有较困难：TEE、ZKP 等方案都未成熟/适配性不足；</p>
<p>▪ 目前 ZK 协处理器 Coprocessor 可认为是 ZK solve 的一种 demo，将复杂计算从以太坊迁移至链下，同时利用 ZK 验证计算结果。代表项目为 Axiom、hyperoracle，目前可验证历史区块信息或账户存储中的历史信息。</p>
<p>• AI 自动化执行，分为两个思路：AI 集成钱包入口，AI 直接耦合 UserOp 。</p>
<p>  ￮ AI 集成钱包入口，常见的 AI 优化理财和 AI 个人助理。</p>
<p>  ￮ AI 直接耦合 UserOp，AI 求解需求产生最优 UserOp  后，AA 负责执行 UserOp。</p>
<p>  ￮ 以上均需要 AI 高度发展。背后对应的需求是：prompt 语义理解能力、实时计算能力、推理能力、链上信息更新和多链通信规范。</p>
<p>  ￮ 竞争对手可能是 Siri、 GoogleAssist、ChatGpt 客户端 等（背后的假设是 苹果手机是未来最重要的钱包）；</p>
<p>• 新的语言来表达意图：如设计一种允许隐私的意图表达语言。</p>
<p>  ￮ Juvix 是一种开源、不断发展的功能语言，用于创建注重隐私的去中心化应用程序。它允许开发人员编写高级程序，这些程序可以编译为 WASM，或者通过<a href="https://github.com/anoma/vamp-ir">VampIR</a>编译为电路，以便在以太坊上使用<a href="https://github.com/anoma/taiga">Taiga</a>进行非公开执行；</p>
<p>  ￮ Essential 正在创建一种用于表达意图的领域特定语言（DSL），一种面向意图的账户抽象的以太坊标准，以及一个模块化的意图层。</p>
<p>• 钱包可能成为真正的前端入口：Intent 本质上是一个链下预处理黑盒子，钱包完全可以作为意图层构建端，其战略地位大大增加，可以成为 DeFi 协议的引流基建和入口，为各个生态吸引用户的同时也能收取部分手续费来盈利；</p>
<h3 id="钱包和入口的机会">钱包和入口的机会</h3>
<p>• Intent 后端可集成传统的 EOA 和 MPC 钱包；</p>
<p>• 智能合约钱包及配套 SDK 可向后集成 Bundler、Paymaster 等组件，赛道红海，但是作为钱包结合 intent 有多种创新机会。交易类和跨链类应用都将随着入口端的多样化改善体验（如自动化、多方案）；</p>
<p>• 集成传统钱包：telegram bot 是典型的 Intent 创新，但后端仍然采用 EOA 钱包，不影响用户体验，现在其需要将私钥交给 bot ， 有一定盗号风险，后续可以采用 AA 来达成更智能化的管理；用户提出需求，求解器计算在哪条链、哪个 dex、滑点区块时间等参数如何设置，生成一个对应的 UserOperation，后端可以是 EOA、MPC 等钱包。</p>
<p>• 智能合约钱包及配套 SDK：它们通常会自己搭建 Bundler、Paymaster、Wallet Factory 等组件，该赛道是红海市场，如社交恢复或模块化目前已是大多数合约钱包的已有功能，但未来该赛道可结合 intent 有多种创新机会。</p>
<p>￮ 社交恢复：有多种角色可选。</p>
<p>▪ Web2服务提供商：例如钱包用户的社交媒体帐户，通常通过实施 OAuth（Open Authorization，即开放授权）标准来实现。如 Argent 可根据可信联系人或另一台设备进行恢复；</p>
<p>▪ 用户设备：例如浏览器存储和移动端存储；</p>
<p>▪ 电子邮件：例如通过点击可以发送签名的电子邮件链接进行授权。如 UniPass 能用电子邮件进行社交恢复，还能使用零知识证明对链上的用户信息进行脱敏处理，Soul Wallet 可在链上验证守护者的邮箱地址以进行社交恢复。</p>
<p>▪ 多签名：用户可以设置多个个人拥有的 EOA 或智能合约钱包作为守护者。如 BLS Wallet 和 Argent 使用多签技术（multisig）通过用户指定的多个 EOA 地址进行密钥恢复。</p>
<p>▪ MPC：用户可以将私钥分割成多个份额，每个份额由 MPC 网络中的一个节点控制，且不会泄露完整的密钥。如 Web3 Auth 的 MPC 服务，它把用户密钥分割成多份给社交登录、用户设备和其 MPC 节点网络等守护者。产品逻辑实现完全在链下，且没有任何一个守护者会存储完整的私钥。</p>
<p>  ￮ 模块化：如 Argent、Candide、Soul Wallet、Gnosis Safe 和 zeroDev 等都有模块化功能，能添加 4337 接口中未定义的功能，并可以由用户自定义。如 Gnosis Safe 目前可提供一系列 EIP 4337 没有定义的功能，如定期打款、组织权限、支出限制、白名单和黑名单和为钱包不同的交易和行为定义所需的角色和授权等。</p>
<p>• 交易类应用：大多可以集成自动交易的 DeFi 协议。</p>
<p>  ￮ 如 Uniswap X，可以倒卖订单，赚取订单差价；</p>
<p>  ￮ 定投等行为无需每次授权，如定投 DeFi 协议，可以自动每个月定投一定金额的 ETH，省去手动操作；</p>
<p>• 跨链类应用：利好跨链 DeFi 协议和 DApp 集成协议。</p>
<p>  ￮ 跨链 DeFi 协议：如 orbiter，一个去中心化的跨 Rollup 桥，通过独特的做市商模式，达成低手续费和高速，支持多币种转账；</p>
<p>  ￮ 多链 DApp 管理协议：利好 dappOS 类似跨链 SDK 协议，它建立了通用平台来连接不同区块链，也和 Perpetual Protocol 这种 DEX 集成，能改善 DeFi 的跨链体验；</p>
<h3 id="zk-类应用机会">ZK 类应用机会</h3>
<p>• 用户的 Intent 有大量加密需求， 4337 本身机制即可满足隐私付费，更深度的集成将在 zkProof 协议和市场中发展。</p>
<p>• 需求加密：阈值解密或 DKG 可以在 UserOp 发出之前进行加密，经过 Bundler 池，确认被打包进区块后才解密。这牵扯到 zk 与 UserOp 和 gas 验证之间的技术集成，将继续助力 zkproof、zkOracle 的热度，形成类似 nil foundation 的 zkProof 市场；</p>
<p>• 隐私付费：用户可采用如下流程来完成隐私付费，大意是用户可以通过付款人账户生成的 UserOp 发起需求，同时在收款时使用 4337 重新部署一个新账户，达成全流程对自身账户的隐私保护：</p>
<p>  ￮ 用户将资金存入隐私保护 rollup，同时希望将资金提取到一个新的未注资地址（该地址是用户新账户计算出的 CREATE 2 地址）；</p>
<p>  ￮ 用户生成一个混合提款信息，将资金提取到一个 MixerPaymaster 的地址（非用户账户，而是付款人的地址）；</p>
<p>  ￮ 用户创建包含该信息的 UserOp，并指定 UserOp.paymaster=MixerPaymaster，该 UserOp 将被发送到 4337 内存池；</p>
<p>  ￮ Bundler 从 mempool 挑选 UserOp，模拟验证，检查 MixerPaymaster 是否同意支付燃气费用。MixerPaymaster 的验证函数检查取款信息（在 Bundler 程序模拟期间），确认有效并同意付款；</p>
<p>  ￮ Bundler 将 UserOp 放入链中，并将其传递给 EntryPoint，在 UserOp 验证期间，EntryPoint 部署一个账户到用户的新地址；</p>
<p>  ￮ MixerPaymaster 执行取款，获取资金。在 MixerPaymaster.postOp 中，paymaster 从收到的资金中扣除操作费用，并将剩余资金转发到用户的新地址。那么在交易结束时，用户的新地址将拥有一个已部署账户，该流程没有使用到中继器，仅用 了 4337 内存池。</p>
<h3 id="风险和门槛">风险和门槛</h3>
<p>• 意图需要强大的信任预期，对应高准入门槛，导致过于中心化和创新不足。</p>
<p>• 中心化：若意图执行不受审查，那么区块生产很有可能被单个方案垄断，进而导致中心化；</p>
<p>• 信任：解决方案需要对中介机构的强信任，因此开发新架构有高准入门槛，可能导致该赛道创新度和竞争率较低。</p>
<p>  ￮ 如当前订单流拍卖市场中，Flashbots 和 CoWswap 等几个实体已经建立了好的信誉基础，因此接收了大部分订单流。但新方案若想进入市场、从 0 构建新品牌都需要耗费大量资源。新意图方案同理。</p>
<p>• 透明度：许多意图架构要求用户放弃对其链上资产的部分控制权，且目前大多内存池为私有池，可能用户不清楚 intent 的实际执行过程从而造成威胁。因此意图应用程序应该更加谨慎地设计其执行系统，避免出现黑暗森林情况。</p>
<h2 id="6重点项目和-eip">6.重点项目和 EIP</h2>
<p>• 账户抽象市场有两类参与者：</p>
<p>  ￮ 具有社交登录、社交恢复、gas 抽象、交易批处理，以及集成和聚合第三方服务（如法币出入金和 DeFi 协议）等功能的智能合约钱包。目前普遍为智能合约钱包转型 4337 的初期阶段，如 unipass 已达成 4337 兼容，同时与 Keystone 开发账户抽象方案，Visa 作为web2 金融龙头支持 StarkNet 上的自动支付功能，也在积极探索 AA 主题。该赛道当前初创项目较多，方案大多处于孵化期；</p>
<p>  ￮ 基础设施（如 Bundler 或 Paymaster）的第三方提供商，专注于模块化设计。以 StackUp 和 Biconomy 为首，二者的 4337 SDK 是目前市面上较成熟的方案，其余项目大多处于初期 demo 阶段。</p>
<p>• Pimlico 的 bundler 市占率（全链 bundle 的 userop 占比<a href="https://dune.com/sixdegree/account-abstraction-overview">52%</a> ）和盈利（polygon 上盈利第一， 7 月达 637 MATIC，optimism 上也是正盈利）都领先；</p>
<p>• StackUp 各链都有 bundler 业务，Arbitrum（8 月 5 ETH）和以太坊（7 月 0.4 ETH）上盈利领先。bundler 处于失败的多但是赚得也多的状态；</p>
<h3 id="stackup">StackUp</h3>
<p>• Stackup 是一个 Bundler 和 Paymaster 的提供商。其 Bundler 采用 Go 语言实现，通过了所有 EIP 4377 测试套件的要求，完全开源且免费使用。</p>
<p>  ￮ Bundler 支持不同的模式：</p>
<p>▪ 私有模式（private mode）：UserOperations 进入一个私有内存池（mempool），以更慢的交易执行速度换取更好的隐私。UserOperation 不会显示在公共内存池中，从而避免了 MEV 攻击。</p>
<p>▪ 搜索模式（searcher mode）：由以太坊生态的机器人运营者（即 bot operator，也称为 searcher，例如 DeFi 套利机器人）使用，并与诸如 Flashbot 之类的区块构建者（block builder）集成，通过 MEV-Boost 发送 UserOperations，允许 searcher 为特定的交易排序出价，以供 block builder 选取 MEV 最大的交易排序构建区块。</p>
<p>  ￮ 支持两种类型的 Paymaster：</p>
<p>▪ Verification Paymaster：提供需要链下交易（如法币出入金）的 gas 抽象。例如，用户可以选择使用信用卡订阅 Paymaster 服务来支付 gas 费。用户也可以定制 gas 代付的逻辑。Stackup 将通过“按需付费”（pay as you go）模式向用户收费。</p>
<p>▪ Deposit Paymaster：允许用户用 ERC 20 代币支付 gas 费。</p>
<p>• 数据：</p>
<p>  ￮ 根据 dune 的<a href="https://dune.com/johnrising/erc-4337">数据</a>，<a href="https://docs.stackup.sh/docs/entity-addresses">StackUp 的 bundle</a> 占据失败 userop 的 90% （地址<a href="https://blockscan.com/address/0x25df024637d4e56c1ae9563987bf3e92c9f534c0">0x25Df024637d4e56c1aE9563987Bf3e92C9f534c0</a>），但其仍是总<a href="https://dune.com/sixdegree/account-abstraction-chain">盈利最多</a>的 bundle 地址（7 月收入达 1057 USD）；</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_2tqwjbog8k.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p>  ￮ Stackup 各条链的都有 bundler 业务，全链 bundle 的 userop 数量占比<a href="https://dune.com/sixdegree/account-abstraction-overview">9.1%</a> ，在 optimism、Avalanche 和 polygon 是微弱盈利状态，在 Arbitrum（8 月 5 ETH）、以太坊（7 月 0.4 ETH）盈利领先。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_svvfemrs41.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_fsyii88syw.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="pimlico">Pimlico</h3>
<p>• Pimlico 是账户抽象的加密基础设施，可为钱包提供其即插即用 API 来赞助用户的交易；</p>
<p>  ￮ bundle：推出的 Alto 是一个用 Typescript 编写的 ERC-4337 bundle；</p>
<p>  ￮ Paymaster：支持 ERC 20 代币。利用 Chainlink 进行价格预言机，并结合使用 ERC 20 代币兑美元价格和原生代币兑美元价格来计算 ERC 20 代币兑原生代币价格，即可以部署在任何具有 Chainlink 支持的代币的链上，但同时也受 Chainlink 安全性制约。</p>
<p>• 数据：全链 bundle 的 userop 数量占比<a href="https://dune.com/sixdegree/account-abstraction-overview">52%</a> ，bundler 大多部署在 polygon 和 optimism 上，在 polygon 上盈利第一（7 月达到 637 MATIC），在 optimism 上也处于正盈利。</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_5eubc45vf4.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_sva09dqspf.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="biconomy">Biconomy</h3>
<p>• Biconomy 为使用 4337 标准进行建设的人提供了他们定制的软件开发工具包（SDK）功能；</p>
<p>  ￮ 智能合约：Biconomy 简化了创建和发送 UserOperations 的过程，从而优化了去中心化应用程序 (dApp) 的开发和管理。</p>
<p>  ￮ Bundle：通过其 SDK 可以估计用户 OpGas、发送用户操作并获取用户操作收据；</p>
<p>  ￮ Paymaster：提供基础 Paymaster 服务，包括根据提供的 userOperation 和 paymasterServiceData 获取报价信息或 paymaster 数据等。</p>
<p>• 数据：</p>
<p>  ￮ 目前<a href="https://dune.com/doublesc00p/aa-at-biconomy">其 userop 市场份额</a>占比 15.07% ， 90% 以上的 userop 部署在 polygon 和 avalanche 上;</p>
<p>  ￮ 全链 bundle 的 userop 数量占比<a href="https://dune.com/sixdegree/account-abstraction-overview">7.9%</a> ，<a href="https://dune.com/niftytable/account-abstraction">其在 polygon 和 optimism 上</a>部署的 bundler 均是亏钱状态（如 6 月在 polygon 亏损 427 MATIC， 8 月在 optimism 亏损 0.3 ETH），仅在 avalanche 上有一定盈利（9 月盈利 11 AVAX）；</p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_cmanivih8i.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_c18k7k8snv.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_8gssavoo0d.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<p><img src="https://img.bibiqing.com/news/2023/0927/1_yfj37kt6c7.png" alt="​OKX Ventures：系统解析账户抽象赛道的过去、现在和未来"></p>
<h3 id="相关-eip-汇总">相关 EIP 汇总</h3>
<p>• 与 4337 相关的 EIP，由于官方给定了 4337 的方向，目前大多数提案主要围绕着优化 AA 部署的方向：</p>
<p>• 4337 衍生产品的辅助：</p>
<p>  ￮ ERC 6551 ：对 AA 的普及有很大助力的 NFT 代币化协议，其和 4337 底层逻辑相似；</p>
<p>• 优化 AA：</p>
<p>  ￮ EIP 6662 ：辅助完善 AA 账户的实际用例 —— 支持更加用户友好的认证模型，用户的钱包可以成为其登录账户来进行资产管理的 dApp；</p>
<p>  ￮ ERC 6900 ：模块化账户抽象，提高智能合约的灵活性和便于开发人员的开发；</p>
<p>  ￮ ERC 1271 与 ERC 6492 ：主要解决 4337 领域的验签问题。ERC 6492 相对 1271 做了部分改进，让用户可以在不部署合约的情况下验签；</p>
<p>  ￮ EIP 7204 与 EIP 7197 ：使 AA 钱包有互相定义代币标准的能力。</p>
<p>• 账户迁移辅助：</p>
<p>  ￮ ERC 7377 ：有助于未来将 EOA 钱包迁移到智能合约钱包中；</p>
<h2 id="7以太坊路线图httpsnotesethereumorgvbuterinaccount_abstraction_roadmap中的4337">7.以太坊<a href="https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap">路线图</a>中的 4337 </h2>
<p>• 短期主要是扩张市场，同时和 layer 2 形成共同促进的模式；中期主攻模块化的 Bundler 和 Paymaster 的落地以及 SDK 的部署，同时在细节上优化使用体验（如降低 gas 成本、添加可选的 EOA-to-ERC-4337 转换等）；长期则考虑强制转换 EOA 钱包。</p>
<p>• EIP 4337 基础设施的终局：</p>
<p>• 市场：</p>
<p>  ￮ 账户抽象市场仍处于早期，未来发展取决于生态对 EIP 4337 的采用，若最终 EOA 和智能合约钱包的数量相等，那么市场规模有 310 倍的增长潜力；</p>
<p>  ￮ 当前市场状态下许多智能合约钱包已经构建了自己的基础设施，但是由于 EIP 4337 尚未完成，采用率很低，更多基础设施的部署过程仍远未达到无需许可的状态；</p>
<p>  ￮ Layer 2 仍未实现所有的 EIP 4337 接口，且其账户抽象基础设施的实现比 L1 更为复杂，目前整体市场较冷清。</p>
<p>• 产品：</p>
<p>  ￮ 账户抽象市场需要许多创新，如：无需许可的模块化基础设施、与现有法币和 DeFi 服务的集成、dApp SDK 以及潜在的独立帐户层等，都是未来潜在的商业机会；</p>
<p>  ￮ AA 的优势在于在复杂的链上交互中其可以为 dApp 提供更多便利。BD 是这场激烈竞争的关键，AA 可以为 dApp 提供更多好处，因此大多数钱包都想与 Defi、GameFi 等生态系统支持，说服大型 dApp；</p>
<p>￮ AA 的变现模式有待进一步探索。行业更偏向 ToC 模型找到高价值的可持续的应用场景并通过数量获利。</p>
<h3 id="基础设施的终局">基础设施的终局：</h3>
<p>• 账户抽象市场的生死存亡取决于生态对 EIP 4337 的采用，而这个市场还非常早期，假设在终局，EOA 和智能合约钱包的数量相等，那么可以预测智能合约钱包的市场规模有 310 倍的潜力，所以仍需看后续的采用情况。</p>
<p>  ￮ 根据 <a href="https://charts.coinmetrics.io/formulas/?id=7590">coin metric 的最新数据</a>，以太坊中账户余额不为 0 的 eoa 地址约为 1 亿。然而，智能合约钱包的总数，以 Gnosis Safe（25 万）和 Argent（7.6 万）账户的总和来估算（这两个产品的用户最多），仅为 32 万左右；</p>
<p>• 当前市场状态下，许多智能合约钱包已经构建了自己的基础设施，但是这些基础设施并未针对第三方的不同使用场景。</p>
<p>  ￮ 诸如 Stackup 之类的第三方基础设施提供商正在开发模块化的 Bundler 和 Paymaster，但是它们的部署过程仍然远未达到无需许可。因为 EIP 4337 尚未完成，这些基础设施的模块化功能还没有被全部定义。此外，由于 UserOperation 交易量依旧较低，启用了签名聚合的钱包（如 BLS Wallet）仍然不是主流。</p>
<p>• BD 是竞争的关键：AA 的优势不仅在于流畅的登录（因为 Web3 身份验证可以使用托管方式实现），而且在复杂和定制的链上交互中，AA 可以为 dApp 提供更多好处，因此大多数钱包都想与 Defi、GameFi 等生态系统支持，说服大型 dApp，寻找突破点；</p>
<p>• AA 的变现模式有待进一步探索：ToB 模型可能不会获得太多利润，也不会积累自己的用户，而 ToC 模型需要找到高价值的应用场景，才能根据数量获利。整合掉期和桥接功能可以盈利，但找到一种可持续的模式至关重要。</p>
<p>• 账户抽象市场需要许多创新，如：无需许可的模块化基础设施、与现有法币和 DeFi 服务的集成、dApp SDK 以及潜在的独立帐户层等。</p>
<h2 id="参考资料">参考资料</h2>
<p>• ERC-4337 ：<a href="https://eips.ethereum.org/EIPS/eip-4337%EF%BC%9B">https://eips.ethereum.org/EIPS/eip-4337</a></p>
<p>•ERC-4337 Smart Accounts dune：<a href="https://dune.com/niftytable/account-abstraction">https://dune.com/niftytable/account-abstraction</a></p>
<p>•EIPs ：<a href="https://github.com/ethereum/EIPs/pull/7204">https://github.com/ethereum/EIPs/pull/7204</a><a href="https://github.com/ethereum/EIPs/pull/7197">https://github.com/ethereum/EIPs/pull/7197</a></p>
<p>•ERC-4337: Exploring the Technical Components of Account Abstraction — Part 2 <a href="https://medium.com/edennetwork/erc-4337-exploring-the-technical-components-of-account-abstraction-part-2-fec300a7f052">https://medium.com/edennetwork/erc-4337-exploring-the-technical-components-of-account-abstraction-part-2-fec300a7f052</a></p>
<p>•New Paradigm Wallets and Tokens <a href="https://ethresear.ch/t/new-paradigm-wallets-and-tokens/15947">https://ethresear.ch/t/new-paradigm-wallets-and-tokens/15947</a></p>
<p>•The road to account abstraction <a href="https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap">https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap</a></p>
<p>•BuidlerDAO：ERC-4337 如何助力 Mass Adoption 的技术 <a href="https://link3.to/buidlerdao/post/50523e904fd1246b6d69c757ae92d6e05cb1b32f57a2ae5666307b8a6c6898b4">https://link3.to/buidlerdao/post/50523e904fd1246b6d69c757ae92d6e05cb1b32f57a2ae5666307b8a6c6898b4</a></p>
<p>•Account Abstraction and SUAVE: How far are we from an Intent-Centric Ethereum?<a href="https://medium.com/metaweb-vc/account-abstraction-and-suave-how-far-are-we-from-an-intent-centric-ethereum-907e30804880">https://medium.com/metaweb-vc/account-abstraction-and-suave-how-far-are-we-from-an-intent-centric-ethereum-907e30804880</a></p>
<p>•Luke,SevenX Ventures  <a href="https://twitter.com/LukeWasm/status/1691434676551131136">https://twitter.com/LukeWasm/status/1691434676551131136</a> </p>
<p>• 4337  Mafia Newsletter - April 2023 <a href="https://mirror.xyz/0xE5F6AE8F88Fc6eaaE5f2A059A216bE150C0584b0/_OoVUqG121By-D6krueEaHYw0ZQI-mjStkSjYU72e9Y">https://mirror.xyz/0xE5F6AE8F88Fc6eaaE5f2A059A216bE150C0584b0/_OoVUqG121By-D6krueEaHYw0ZQI-mjStkSjYU72e9Y</a></p>
<p>• 4337 Mafia  github：<a href="https://github.com/4337Mafia/awesome-account-abstraction">https://github.com/4337Mafia/awesome-account-abstraction</a></p>
<p>•Introducing Brink Intents <a href="https://www.brink.trade/blog/introducing-brink-intents">https://www.brink.trade/blog/introducing-brink-intents</a></p>
<p>•zkSync Account Abstraction  <a href="https://medium.com/taipei-ethereum-meetup/zksync-%E4%B8%AD%E7%9A%84%E5%8E%9F%E7%94%9F-account-abstraction-%E4%BB%8B%E7%B4%B9-bc7269f8893a">https://medium.com/taipei-ethereum-meetup/zksync-%E4%B8%AD%E7%9A%84%E5%8E%9F%E7%94%9F-account-abstraction-%E4%BB%8B%E7%B4%B9-bc7269f8893a</a></p>
<p>• Planker product doc：<a href="https://recursive.plancker.org/recursive#f78a960e090440339a7aa9c1f8e43b50">https://recursive.plancker.org/recursive#f78a960e090440339a7aa9c1f8e43b50</a></p>
<p>•Data of AA：<a href="https://twitter.com/hmalviya9/status/1696900453957619789">https://twitter.com/hmalviya9/status/1696900453957619789</a></p>
<p>•Intent-Based Architectures and Their Risks <a href="https://www.paradigm.xyz/2023/06/intents">https://www.paradigm.xyz/2023/06/intents</a></p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/60022/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">NASA也很关注Crypto？自家研究员在链上对赌、月球基地测试区块链存储</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/60058/">
                <span class="next-text nav-default">OP Stack与Superchain愿景：已有哪些OP Stack项目</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#文章要点">文章要点</a></li>
    <li><a href="#1账户抽象介绍">1.账户抽象介绍</a>
      <ul>
        <li><a href="#11-定义和方案概要">1.1 定义和方案概要</a></li>
        <li><a href="#12-erc-4337-基础知识原理">1.2 ERC 4337 基础知识原理</a></li>
        <li><a href="#13-对比传统钱包和-mpc-钱包">1.3 对比传统钱包和 MPC 钱包</a></li>
        <li><a href="#14-eip-3074-的aa-方案">1.4 EIP-3074 的 AA 方案</a></li>
      </ul>
    </li>
    <li><a href="#2多链账户抽象方案">2.多链账户抽象方案</a>
      <ul>
        <li><a href="#zksyncstarknet-和-4337-方案比较">zkSync、Starknet 和 4337 方案比较</a></li>
      </ul>
    </li>
    <li><a href="#3发展数据">3.发展数据</a>
      <ul>
        <li><a href="#概括数据">概括数据</a></li>
        <li><a href="#polygon数据">Polygon 数据</a></li>
        <li><a href="#optimism-数据">Optimism 数据</a></li>
        <li><a href="#arbitrum-数据">Arbitrum 数据</a></li>
        <li><a href="#以太坊数据">以太坊数据</a></li>
      </ul>
    </li>
    <li><a href="#4由aa带来的机会">4.由 AA 带来的机会</a>
      <ul>
        <li><a href="#paymaster">Paymaster</a></li>
        <li><a href="#应用场景">应用场景</a></li>
        <li><a href="#bundler-与上下游">Bundler 与上下游</a></li>
        <li><a href="#bundlers-相关机会">Bundlers 相关机会</a></li>
        <li><a href="#bundler未来挑战">Bundler 未来挑战</a></li>
        <li><a href="#aa-与-nft">AA 与 NFT</a></li>
        <li><a href="#aa-和社交游戏">AA  和社交、游戏</a></li>
      </ul>
    </li>
    <li><a href="#5aa-和-intent-关系">5.AA 和 Intent 关系</a>
      <ul>
        <li><a href="#intent-本质和分类">Intent 本质和分类</a></li>
        <li><a href="#aa-让-intent-更加高效">AA 让 intent 更加高效</a></li>
        <li><a href="#钱包和入口的机会">钱包和入口的机会</a></li>
        <li><a href="#zk-类应用机会">ZK 类应用机会</a></li>
        <li><a href="#风险和门槛">风险和门槛</a></li>
      </ul>
    </li>
    <li><a href="#6重点项目和-eip">6.重点项目和 EIP</a>
      <ul>
        <li><a href="#stackup">StackUp</a></li>
        <li><a href="#pimlico">Pimlico</a></li>
        <li><a href="#biconomy">Biconomy</a></li>
        <li><a href="#相关-eip-汇总">相关 EIP 汇总</a></li>
      </ul>
    </li>
    <li><a href="#7以太坊路线图httpsnotesethereumorgvbuterinaccount_abstraction_roadmap中的4337">7.以太坊<a href="https://notes.ethereum.org/@vbuterin/account_abstraction_roadmap">路线图</a>中的 4337 </a>
      <ul>
        <li><a href="#基础设施的终局">基础设施的终局：</a></li>
      </ul>
    </li>
    <li><a href="#参考资料">参考资料</a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.5e8c82c5ae3f71b40f78c4ff8ea351326a65ddf5771f76c10c6fc7d09808332d.js" integrity="sha256-XoyCxa4/cbQPeMT/jqNRMmpl3fV3H3bBDG/H0JgIMy0=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
