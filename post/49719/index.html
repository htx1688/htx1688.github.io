<!DOCTYPE html>
<html
  lang="zh-cn"
  itemscope
  itemtype="http://schema.org/WebPage"
>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
          头等仓研报：全链互操作性协议 LayerZero - 区块大全
        </title>
    

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="佚名" /><meta name="description" content="LayerZero 是一种全链互操作性协议，专注于链与链之间的数据消息传递。" />
<meta name="keywords" content="LayerZero, 跨链" />







<meta name="generator" content="Hugo 0.120.4" />


<link rel="canonical" href="/post/49719/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.d8d87b982993a745e5e7b6a6cbf257be8c3e82aab5e485f0908ad7e6c3501ab2.css" integrity="sha256-2Nh7mCmTp0Xl57amy/JXvow&#43;gqq15IXwkIrX5sNQGrI=" media="screen" crossorigin="anonymous">







<meta property="og:title" content="头等仓研报：全链互操作性协议 LayerZero" />
<meta property="og:description" content="LayerZero 是一种全链互操作性协议，专注于链与链之间的数据消息传递。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/49719/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-04-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-04-14T00:00:00+00:00" />

<meta itemprop="name" content="头等仓研报：全链互操作性协议 LayerZero">
<meta itemprop="description" content="LayerZero 是一种全链互操作性协议，专注于链与链之间的数据消息传递。"><meta itemprop="datePublished" content="2023-04-14T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-04-14T00:00:00+00:00" />
<meta itemprop="wordCount" content="19222">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="头等仓研报：全链互操作性协议 LayerZero"/>
<meta name="twitter:description" content="LayerZero 是一种全链互操作性协议，专注于链与链之间的数据消息传递。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




  </head>
  <body>
    <div id="back-to-top"></div>

    <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">区块大全</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          
        
      </li>
    

    
  </ul>
</nav>


    
      






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

    

    

    


    <header id="header" class="header">
      <div class="logo-wrapper">
  <a href="/" class="logo">
    
      区块大全
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="/categories/">分类</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

    </header>

    <div id="mobile-panel">
      <main id="main" class="main bg-llight wallpaper">
        <div class="content-wrapper">
    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">头等仓研报：全链互操作性协议 LayerZero</h1>
          

          <div class="post-meta">
  <div class="post-meta-author">
    by
      佚名
    
  </div>

  <div class="post-meta-time">
    <time datetime="2023-04-14">
      2023-04-14
    </time>
  </div>

  


  <div class="post-meta__right">
    <span class="post-meta-more">
        约 19222 字 -
        预计阅读 39 分钟
      </span>

    <div class="post-meta-category">
        <a href="/categories/%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0/"> 其它文章 </a>
          
      </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">币安网</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/binance?ref=githubio">注册链接</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/binance?ref=githubio">币安是全球领先的区块链生态系统，推出了一系列产品，其中包括最大的加密货币交易平台。我们的使命是在未来成为全球性加密货币基础架构供应商。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">欧易OKX</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/okx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/okx?ref=githubio">欧易是全球著名的数字资产交易平台之一，主要面向全球用户提供比特币、莱特币、以太币等数字资产的币币和衍生品交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">HTX火币</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/htx?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/htx?ref=githubio">火币全球专业站，是火币集团旗下服务于全球专业交易用户的创新数字资产国际站，致力于发现优质的创新数字资产投资机会。</a>
            </td>
        </tr>
    </tbody>
</table>
<p>LayerZero是一种全链互操作性协议，专注于链与链之间的数据消息传递。LayerZero产品设计理念在跨链桥领域具有很大的创新性，基于预言机和中继器的数据传输方式使得协议更为轻便，并且在安全性能方面也有一定的保障。目前协议的网络采用率情况良好，生态方面也取得了一定规模的发展。项目热度高，整体情况良好，值得关注。</p>
<h2 id="投资概要">投资概要</h2>
<p>LayerZero 是一种全链互操作性协议，专注于链与链之间的数据消息传递。在业内，目前有一种说法将此类的“桥”称为：“Arbitrary Messaging Bridges (AMBs)”，即任意信息传递桥，这些桥允许任何数据，包括代币、链的状态、合约调用、NFT 或治理投票等，从链A转移到链B。</p>
<p>在跨链桥领域，以往我们可见的全部都是单一的“资产跨链”，而现如今我们已经看到有一些项目逐步开始转向数据传递领域上的探索。LayerZero就是该领域的先行者之一。</p>
<p>LayerZero项目的亮点在于：</p>
<p>1）LayerZero基金会目前持有的资产价值总计 2.61 亿美元，资金十分充沛，足够项目长期的开发、运营。</p>
<p>2）在产品方面，LayerZero的设计不同于目前市面上的跨链桥，其选择预言机网络取代了传统跨链的连续流式传输（Continuous Streaming），通过将验证链上信息传递的负担外包给第三方预言机，从而使得协议更为轻巧，并且运营成本低。</p>
<p>3）LayerZero创新的技术加之更快的部署速度和一定的成本优势，以及早期著名VC和社区具有影响力KOL的推动，使得LayerZero生态在短短一年左右的时间内得到了快速的扩张，并且在DeFi、NFT和稳定币等方向都取得了不小的成绩。截至目前，已有50+项目（含未正式推出/上线的项目）集成或正在使用LayerZero技术。</p>
<p>4）目前市面上发展较为完善，且尚未被攻击过的Arbitrary Messaging Bridges (AMBs) 项目数量还十分少，LayerZero具有一定的先发优势。</p>
<p>该项目的风险点在于：</p>
<p>1）LayerZero的安全性未经充分验证，预言机和中继者彼此之间需要独立运行的信任假设有待商榷，中继机制背后的安全隐患等问题仍需警惕。但另一方面，LayerZero安全性理论上不低于预言机的信任假设相对能够让人信服，关键点可能在于如何实现中继的去中心化。</p>
<p>2）LayerZero经济模型暂未推出，目前在跨链桥领域，大部分项目发行的代币，在价值捕获能力方面的表现普遍较弱，后续LayerZero的经济模型如何仍有待观察。</p>
<p>综合来看，虽然LayerZero目前仍面临着一些问题， 但整体的基本面情况良好，因此值得关注。</p>
<p>说明：头等仓最终评定的【关注】/【不关注】，是按照头等仓项目评估框架对项目当前基本面进行综合分析的结果，而非对项目代币未来价格涨跌的预测。影响代币价格的因素众多，项目基本面并非唯一因素，因此，不可因为研报判定为【不关注】，就认为项目价格一定会跌。此外，区块链项目的发展是动态的，被我们判定为【不关注】的项目，若其基本面发生重大的积极变化，我们将有可能会调整为【关注】，同样地，被我们判定为【关注】的项目，若发生重大恶性改变，我们将会警示所有会员，并有可能会调整为【不关注】</p>
<h2 id="1-基本概况">1. 基本概况</h2>
<p>1.1 项目简介</p>
<p>LayerZero是一种全链互操作性协议，专为跨链传递轻量级信息而设计。</p>
<p>此外，需注意的是，LayerZero只专注于链与链之间的消息传递，能够向支持的任何链上的任何智能合约发送消息，也就是一个消息传输层，用于区块链之间的智能合约通信，不负责资产的跨链。</p>
<ol>
<li>2 基本信息</li>
</ol>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*9HAmE4lVO6QA_xPMmmVkrQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<h2 id="2-项目详解">2. 项目详解</h2>
<p>2.1 团队</p>
<p>LayerZero Labs Canada Inc.（公司编号：1355847–9）于 2021 年 11 月 30 日根据《Canada Business Corporations Act》在加拿大注册。Caleb Banister、Ryan Zarick 和 Bryan Pellegrino 被列为公司董事[1]。</p>
<p>据LinkedIn披露[2]，目前LayerZero有29名成员，核心成员具体情况如下：</p>
<p><img src="https://miro.medium.com/v2/resize:fit:354/1*vcCihZqyMxgYm86coFn2zw.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>Caleb Banister，LayerZero Labs和Stargate Finance的联合创始人，2010年毕业于美国新罕布什尔大学，2005.06–2010.12担任UNH互操作性实验室的软件开发师；2010.09–2021.02担任Coder Den（一家软件咨询公司）的联合创始人；2018.03–2021.02担任80Trill（一家加密公司，专门为区块链相关项目编写和审计智能合约）的联合创始人；2019.06–2021.02担任Minimal AI（一家ML/AI公司）的联合创始人；2021.02 — 至今，创立LayerZero。</p>
<p><img src="https://miro.medium.com/v2/resize:fit:354/1*x0hOhlN94TOoVxMb6h8UFQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>Bryan Pellegrino，LayerZero Labs联合创始人兼CEO，2008年毕业于美国新罕布什尔大学，2010.10–2013.01担任Coder Den的联合创始人兼COO；2011.06–2013.01担任BuzzDraft的CEO（2013年被收购）；2017.10–2019.08担任OpenToken的联合创始人；2016.06 — 至今，担任Rho AI的首席工程师；2021年创立LayerZero至今。在创立 LayerZero 之前，Pellegrino 曾是一位职业扑克选手，成功地把一套自己编写的机器学习工具销售给了一支 MLB（美国职业棒球大联盟）球队，还在人工智能领域发表过期刊报告。此前Generalist的Mario Gabriele还对Pellegrino进行过一次专访，对其过往履历感兴趣的朋友可以查阅该链接。</p>
<p><img src="https://miro.medium.com/v2/resize:fit:354/1*u5wsJ1D59dVhk-Ni4XFgXg.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>Ryan Zarick，LayerZero Labs联合创始人兼CTO，2011年毕业于美国新罕布什尔大学，2006.08–2011.05担任UNH互操作性实验室的软件开发师和研究生助理；2011.11–2013.03担任BuzzDraft的CTO；2010.09–2020.13担任Coder Den的联合创始人；2018.01–2020.03担任80Trill的联合创始人；2019.06–2021.01担任Minimal AI的联合创始人；2021年创立LayerZero并担任CTO。</p>
<p>从LayerZero Labs 3位联合创始人的履历来看，具有较高的重合度，彼此有长期的合作关系，团队磨合度高，并且三者都拥有多年的开发经历或成功的创业经验。</p>
<p><img src="https://miro.medium.com/v2/resize:fit:354/1*AyvsHVE4P7NN8fHAS2nQOA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>0xMaki[3]，SushiSwap前创始成员和核心贡献者，目前已全职加入LayerZero Labs。0xMaki在 SushiSwap 的早期市场营销中起到了关键性的作用，并且在 Chef Nomi 退出后成为项目负责人。任职期间 0xMaki 主要负责决定SushiSwap 的日常运营，业务发展策略和整体的发展。此外，Sushi 的跨链Swap项目 SushiXSwap 就是在 0xmaki 的牵头下完成，为Sushi和LayerZero两个协议增添了应用场景。</p>
<p>2.2 资金</p>
<p>表2–1 LayerZero 融资情况</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*kRSEi9XWv42t2sImzzxviw.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>此外，受2022年11月上旬FTX的暴雷事件影响，2022年11月11日，LayerZero官方发文表示，<strong>已从 FTX/FTX Ventures/Alameda Research 手上回购 100% 的股权、币权及其它任何协议。当时基金会持有的资产价值总计 1.34 亿美元[8]（其中团队存放在FTX交易所内的1,070万美元，不纳入上诉计算）。</strong> 因此也可以看出上述LayerZero的第三轮次的融资并未完成。</p>
<p>从上表我们可以看出，作为明星项目出身的LayerZero，从一开始就获得了各大资本的青睐，截至目前已知的融资金额已达2.61亿美元。整体上来看，目前LayerZero的资金十分充沛，足够项目长期的开发、运营。</p>
<p>2.3 代码</p>
<p>图2–1 LayerZero代码库情况[9]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*jREiisHmBoHi-A2J8_wVsQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>如上图2–1所示，LayerZero代码库从2019年3月份开始更新，整体上来看，LayerZero累计代码提交次数6415次，并且累计有116名开发者成为LayerZero Github的Git/Issue作者和审查提交者。</p>
<p>结合LayerZero在2022年9月披露的进展情况[10]来看，目前LayerZero的测试网上已经部署了7000+份活跃的合约，有着十分不错的采用率。</p>
<p>此外，LayerZero代码库累计已经完成由Zellic、Ackee和SlowMist（慢雾）进行过的4次审计，具体的审计报告可通过该链接查询。</p>
<p>综上，在过去近3年的时间里，LayerZero项目代码更迭情况良好，开发人员充足，几个重要的代码库更新都比较频繁。</p>
<p>2.4 技术</p>
<p>首先我们要理清一个容易造成混淆的误区，LayerZero是一个全链互操作性协议，它只专注于链与链之间的消息传递，能够向支持的任何链上的任何智能合约发送消息，也就是一个消息传输层，用于区块链之间的智能合约通信，不负责资产的跨链。</p>
<p>2.4.1 LayerZero框架</p>
<p>据 LayerZero 白皮书[11]显示，协议核心有三个组件，分别是端点（Endpoint）、预言机（Oracle）和中继器（Relayer）。</p>
<p>1）端点（Endpoint）是和用户或者应用直接交互的设施，或者也可视为处理逻辑的一系列智能合约。这些端点负责处理消息传输、验证和接收。它们的目的是在用户使用协议发送消息时保证有效传递。</p>
<p>在 LayerZero 协议中，每个链都需要部署一个 LayerZero 的 Endpoint。Endpoint 可以被其他同链的 App 调取使用，负责发送= — 信息给外链。比如：一个 Dapp 想从 A 链传递信息给 B 链，他首先要调用 Chain A 的 Endpoint，提交需要发送的信息。</p>
<p>每个LayerZero Endpoint分为4个模块：通信器（Communicator）、验证器（Validator）、网络（Network）、库（Libraries）。通信器、验证器和网络模块构成了 Endpoint 的核心功能，这些模块的作用类似于传统的网络堆栈。消息在发送方（通信器）的堆栈中向下发送，由验证器验证再传递到网络，然后在接收方的堆栈中向上发送。</p>
<p>而LayerZero所支持的每一个新的链都是作为一个额外的库加入的。这些库是辅助性的智能合约，它们定义了每个链的具体通信的处理方式。LayerZero网络中的每条链都有一个相关的库，每个端点都包括每个库的副本。</p>
<p>在介绍预言机和中继器之前，我们需要先明确一个概念。首先，为了在链上验证一个区块，我们需要两个信息：1）区块头，它包含了Receipts Root[12]；2）交易证明，即EVM上的Merkel-Patricia证明[13]。</p>
<p>LayerZero通过以下方式将这两个部分分割开来：1）预言机转发区块头 — — 任何被选中的预言机；2）中继（Relayer）转发交易证明。</p>
<p>2）预言机对于 LayerZero 来说是一个外部的组件，也就是一个第三方服务，独立于 LayerZero 协议。预言机主要提供的价值就是将区块头发送至另外一个链，这样才能在目标链上验证源链上交易的有效性。</p>
<p>3）中继器是一个链外的服务，功能是获取源链上的交易证明，然后传输给目标链。LayerZero 认为，为了确保交易可以被有效地交付，预言机和中继器必须是相互独立的。</p>
<p>目前通常情况下，一条链与另一条链无需信任的通信方式，是将A链的区块头连续地传输到B链。比如：Relay中继，其通过第三方提交 BTC 的区块头，为以太坊上的跨链等其他应用提供一个可信的 BTC 数据源，以此来实现 BTC 到以太坊的价值流通，这时候跨链桥合约基本上是一个轻客户端。这种方式传输信息是最安全的，不过问题在于，写入区块链的成本很高，因此持续的传输这些区块头非常昂贵。</p>
<p>而LayerZero最大的改进就在于，其选择预言机网络取代了这种连续流式传输（Continuous Streaming）。</p>
<p>目前据LayerZero官网文档显示和团队披露，测试网上配置的预言机是Chainlink和TSS Oracle，当前的预言机还不是去中心化的，也未经过实战测试，这也意味着存在被黑客攻击的风险。据官方描述，待LayerZero测试完成之后，将会有更多的预言机披露。</p>
<p>LayerZero采用Chainlink充当其预言机，将有几个好处：</p>
<p>1）将验证信息的功能外包，无需在链接的链上运行节点；预言机只允许一次性将区块头传输到目标链，这两点使其运行成本降低；</p>
<p>2）LayerZero通过依赖预言机和中继器，在不同链上的端点之间传输消息。首先通过预言机按需传输流式区块头，以更高效的链外实体来达到所需的同步状态。预言机提交的区块头将与中继提交的交易凭证进行交叉验证。只有在预言机与中继器串通的情况下，系统才会崩溃，也就是安全性不低于预言机。</p>
<p>3）中继（Relayer ）和预言机（Oracle）都没有形成任何共识或验证，他们只是在传输信息。由于所有的验证都是在各自的源链和目的链上完成的，所以速度和吞吐量的限制完全取决于两个交易链的属性。</p>
<p>不过也存在缺陷：LayerZero将验证链上信息的任务外包给第三方，如后续将采用的Chainlink。这里并不是说Chainlink不好，而是LayerZero引入了协议无法控制的安全假设，从长远来看，将关键任务部分的工作转嫁给第三方会增加其他风险和潜在的不确定性。</p>
<p>2.4.2 安全性</p>
<p>• 在LayerZero中有一个重要的信任假设就是 — — 预言机和中继者彼此之间需要独立运行。</p>
<p>为了确保信息的有效传递，一旦中继器或是预言机之间的信息传递出现任何争议，那么智能合约将会暂停且不会将信息提交给目标链。也就是上述我们说的，只有在预言机与中继器串通的情况下，系统才会崩溃，也就是安全性不低于预言机。</p>
<p>虽然在LayerZero中，协议允许每个Dapp的开发团队可以改造 Layerzero 提供的预言机/中继器代码，在将其嫁接到应用自己的服务器或是验证者网络上，从而使用自己的预言机进行喂价，或是自己运行一个中继从而确保预言机不会与中继器勾结作恶（LayerZero此前也在社区建议中继器需要更加去中心化）。</p>
<p>而目前的情况是，虽然大家都知道“去中心化”更好，但是大多数Dapp迫于成本、运营、用户体验等方面的考虑，以及“Chainlink已经够好了”的观念，几乎所有的Dapp首选的预言机都是Chainlink。同理大多数的Dapp也会直接选择LayerZero自己的中继器。就像是现在几乎没有用户运行自己的节点来交易，人们都依赖于Infura、Alchemy等中心化服务商。</p>
<p>这样的话，一旦中继器出现了恶意行为（被黑客入侵或是未按预期进行工作），Chainlink 预言机将会进行拦截，阻止在原链上发生的任何重大损失。选择Chainlink的优势毋庸置疑，但是如果假设Chainlink能成为实现两种功能（预言机和中继器）的有效且现实的替代方案，那么LayerZero的信任假设是否还成立，就有待商榷了。</p>
<p>上诉观点灵感来源Pickle and Aylo的《Layer 0 Wars: LayerZero vs Chainlink’s CCIP》一文，感兴趣的读者可以移步原文进行阅读。</p>
<p>• 预言机Chainlink的安全性经过市场的验证，当下LayerZero协议内安全功能的关键之处在中继器。</p>
<p>2022年4月，LayerZero团队介绍了保证协议安全性的方法，并将其称为“Pre-Crime”。目前有关Pre-Crime的公开信息很少，博文中仅介绍了其基础运行的原理，总结起来大概就是：Pre-Crime模型允许用户应用程序（UA，User Application）定义一组特定的断言（assertions），中继器必须根据这些断言进行验证。如果断言失败，中继器就不会中继交易。通过引入Pre-Crime，确保中继器在黑客攻击发生之前能够阻止黑客攻击[14]。</p>
<p>目前“Pre-Crime”相应的代码库并未开源，不过LayerZero团队已与多个团队一起推出了一个私有的Pre-Crime测试版，后续正式版上线时间暂未披露，其有效性还有待实践验证。</p>
<p>• 中继机制背后的安全隐患[15]</p>
<p>此前LayerZero 3 月 28 日在未发表任何公告的情况下更新了跨链使用的验证合约。Cobo 安全团队通过对比原始验证合约（MPTValidator）和新验证合约（MPTValidatorV2）代码，发现本次更新是对之前重大安全漏洞的修复。</p>
<p>该漏洞的代码是 LayerZero 协议中最核心的 MPT 交易验证部分的代码，是整个 LayerZero 及上层协议正常运作的基础。如为及时发现，最终可造成的最严重的后果是，在LayerZero 预言机完全可信的前提下，中继仍可以单方面通过伪造 receipt 数据的方式来实现对跨链协议的攻击，打破了 LayerZero 之前的安全假设。</p>
<p>Cobo 安全团队称，虽然 LayerZero 已经修复了目前的漏洞，但不排除其他漏洞存在的可能性。该事件也引发了社区对LayerZero中继机制背后安全性的担忧。</p>
<p>综上，LayerZero目前虽然已经发展到了相当的体量，但是其协议背后的安全性仍未得到充分验证。</p>
<p>2.4.3 运行流程</p>
<p>图2–2 LayerZero 跨链交易中的通信流</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*wmR0lZoC1f0yp5QZCzocJw.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>LayerZero具体的运行流程如下：</p>
<p>• 当User Application[16]传递一个跨链（例如从 A 链到 B 链）的消息，首先需要调用LayerZero Endpoint 的智能合约。</p>
<p>• 消息首先进入 A 链的 Endpoint，然后该端点将消息（交易证明和区块头）和去往B链（目标链）的信息起打包给预言机和中继（这两个实体都是独立的，并且都是链下的）。</p>
<p>• 预言机读取并确认区块头，预言机在认定该区块经过了 A 链上的几次区块确认之后，将区块头发送给 B 链上的Endpoint。与此同时，Relayer提交相应的交易证明。</p>
<p>• 待目标链验证区块头和交易证明成功后，消息被转发到目标链，完成跨链通信。</p>
<p>头等仓注：上述流程为了更通俗易懂，编者简化了一些细节，比如端点（通信器、验证器和网络）的情况，但本质的逻辑不变。</p>
<p>从上述流程，我们不难看出LayerZero只负责消息的传递，就好比A有一则消息需要传输给B，于是A打电话给B告诉他信息的内容，B拿起电话，接受消息，流程结束。这是一个十分简单的逻辑。那么跨链的资产是如何传输的呢？</p>
<p>首先每个链上都需要部署一个 LayerZero 的 Endpoint，用以发送和接收信息。而资产交易的流动性由集成了LayerZero的DEX等Dapp来平衡各个端点的LP。</p>
<p>目前LayerZero的这种平衡能力由Stargate Finance提供，Stargate 的Delta (Δ) 算法确保了全链流动性保持平衡和可用（详情参阅头等仓此前发布过的Stargate Finance研报）。</p>
<p>简而言之，LayerZero只负责处理链与链之间的通信问题，其他的额外功能/问题皆由集成了LayerZero的应用程序来自行解决。</p>
<p>2.5 生态</p>
<p>LayerZero是一种全链互操作性协议，作为一个链与链信息传递之间的枢纽，LayerZero可以做的不仅仅是资产跨链，在实现了跨链消息传递之后，LayerZero还可以实现跨链状态共享、借贷、治理等。</p>
<p>此外，不同于目前市面上的传统跨链桥的模式，LayerZero无需在各个连接的链上去运行节点，从而监控源链上的状态，将原本验证器（Validator）的角色交由预言机（Oracle）扮演。这里直观的一个好处就是，无需在每条新链上部署一个新的节点，从该点出发，LayerZero将新链并入网络的速度会更快，并且成本更低。截至2022年11月11日，LayerZero已经支持了Ethereum、BNB Chain、Avalanche、Aptos、Polygon、Arbitrum、Optimism、Fantom等总计13条链。</p>
<p>LayerZero创新的技术加之更快的部署速度和一定的成本优势，以及早期著名VC和社区具有影响力KOL的推动，使得LayerZero生态在短短一年左右的时间内得到了快速的扩张，并且在DeFi、NFT和稳定币等方向都取得了不小的成绩。截至目前，已有50+项目（含未正式推出/上线的项目）集成或正在使用LayerZero技术。详情如下（仅列举部分）：</p>
<p>图2–3 LayerZero 生态项目一览</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*Qpk_zgesz-BWo2wr3vGLCQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>头等仓注：上图由 @LayerZeroHub（非官方）统计汇总。后续如想追踪LayerZero的生态项目，还可以关注由Luke（Twitter ID：@0x4C756B65）在Twitter上维护的列表。</p>
<p>1）DeFi领域</p>
<p>表2–2 LayerZero生态DeFi合作项目</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*lBRZ2fRALCRC57haWDWiDw.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*WHiU3jAiZDWMWOct_Fz-5A.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>2）稳定币领域</p>
<p>表2–3 LayerZero生态稳定币合作项目</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*nsplaBzufbfhpscNq8J1tQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>3）NFT领域</p>
<p>表2–4 LayerZero生态NFT领域合作项目</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*Kr0_Jz-LyPTPcodAmEXS0Q.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*f6vvft5tQrA5bB06N0KDIw.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>结合上图2–2和表2–1至表2–3，我们可以看出LayerZero的生态版图已然发展到一个相当的规模。从DEX蓝筹Sushi、PancakeSwap，再到当下火热的Radiant Capital都是采用LayerZero旗下的Stargate进行跨链DEX开发；在稳定币领域，USDC和agEUR都通过Layerzero技术支持其各自稳定币的跨链互操作性，从而升级成多链原生资产；在NFT领域，虽然现在多链NFT的需求暂不明显，但是我们也看到了诸如Gh0stly Gh0sts、tofuNFT等项目，在多链NFT方向的尝试。此外，LayerZero在前段时间也推出了官方浏览器LayerZero Scan，跨链交易现在可以通过LayerZero Scan‌绑定在一个数据库中，允许用户和开发人员提取交易的状态、状态和时间。</p>
<p>通过LayerZero内外并进的措施下，其全链（Omnichain）概念或将在未来取得进一步的发展。</p>
<p>总结：</p>
<p>LayerZero是一种全链互操作性协议，专为跨链传递轻量级信息而设计，整体架构合理，无需在连接的链上运行节点，通过依赖预言机和中继器，在不同链上的端点之间传输消息。虽然安全性未经市场充分验证，但协议理论上来看安全性不低于预言机（Chainlink），有一定的保障。</p>
<p>目前LayerZero基金会持有的资产价值总计 2.61 亿美元，财库十分充沛。LayerZero项目代码更迭情况良好，生态在短短一年左右的时间内得到了快速的扩张，是目前跨链领域发展最快的项目之一。</p>
<h2 id="3-发展">3. 发展</h2>
<p>3.1 历史</p>
<p>表3–1 LayerZero大事件</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*ootTQ-tLCQRlvqIyuV-VmA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*XjVn79Lp2dBKpdpE8tiwNA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>3.2 现状</p>
<p>3.2.1 网络使用情况</p>
<p>图3–1 LayerZero每日交易数[17]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*CBRFyr4EFsoVJ1BUK0rQYA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>图3–2 LayerZero累计交易次数</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*ZqIKsqnz_U3CPG3EdqxrwQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>从上图3–1、图3–2可以清晰的看出LayerZero网络的使用情况，在过去一年的时间内，整体呈现一个稳步上升的态势，特别是在2023.03，Arbitrum宣布向其社区成员空投治理代币ARB后，社区的“撸空投”情绪空前高涨，带动了未发币的LayerZero生态以及zk生态使用率的大幅度上升。虽然这一现象长期来看，并不能持续，但通过这种“空投预期”，变相的也能让更多的用户去了解LayerZero，从而留存下一定基数的真实用户。</p>
<p>此外，即使是拿掉LayerZero 3月份的数据，其网络采用率自2022年底至3月初，也是实现了翻倍。目前我们也能看到不少基于LayerZero的协议开始落地，生态建设方面初步取得成效。</p>
<p>图3–3 跨链桥跨链资产体量排名[18]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*knPREg6vwbDoN0h77hq5-w.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>此外，据DeFiLlama的数据接口显示（如上图3–3），目前LayerZero旗下的Stargate的桥接资产体量，目前位居所有跨链桥（含各个公链、二层的官方桥）的第一名。单从体量上来看，Stargate目前已然成为跨链桥赛道的头部项目。</p>
<p>头等仓注：目前DeFiLlama数据端口显示的各个跨链桥的交易量、交易笔数，现阶段波动较大，该数据并不代表各个跨链桥长期的竞争优势，仅供参考。</p>
<p>不过需注意的是，从交易笔数来看，Stargate远超其他的跨链桥，但是跨链的资金体量并没有拉开太大差距，目前尚未有充足的迹象表明Stargate的小额交易操作体验更好。因此可以推测，其相当一部分的交易数据可能是由于LayerZero潜在的空投预期。</p>
<p>虽然各个项目方都不提倡撸空投的行为，但从另一层面出发，也正是因为潜在的空投预期，为LayerZero和Stargate带来了更高的曝光度以及采用率，目前为协议带来的收入也是实打实的。</p>
<p>3.2.2 营收情况</p>
<p>目前生态应用接入LayerZero没有门槛，LayerZero Labs当下主要的收入来源于Stargate Finance的交易手续费。</p>
<p>通过Stargate协议进行的非 STG 代币转账，都将产生 0.06% 的转账费。其中 0.01% 将被分配给流动性提供者，0.01% 将被分配给veSTG持有者，0.04% 将被分配给协议的财库[19]。</p>
<p>图3–4 Stargate每月跨链金额[20]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*zRtV1SpXTXQnPAmhoJ-nQA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>据Stargate披露的每月成交金额dashboard显示，Stargate从2022年3月推出至今（2023年4月7日），累计成交的跨链金额达$ 6,286,702,699，约63亿美元。</p>
<p>为方便计算，假设这63亿美元的进行的都是非 STG 代币转账，那么Stargate财库大概可以获得：$ 63亿 * 0.04% ≈ 252万美元的手续费收入。</p>
<p>而如果是按照当前的规模推算，据token terminal统计Stargate过去30天协议收入约为73万美元，如维持当前规模，未来一年的收入将达到889万美元[21]（理想情况，该数据仅供参考）。</p>
<p>3.3 未来</p>
<p>LayerZero当前没有具体的路线图，当下主要的工作是与一些项目进行集成整合，同时也在向更多的链扩张。</p>
<p>总结：</p>
<p>LayerZero整体进展迅速，其网络增速在近2、3个月尤为明显。不过目前协议暂未披露详细的路线图。</p>
<h2 id="4-经济模型">4. 经济模型</h2>
<p>LayerZero Labs目前暂未发币，不过团队在其官方文档的代码中披露了$ ZRO token 的信息，结合下图4–1，我们可以看出$ ZRO 未来可能会被用来支付其链上Gas费。</p>
<p>图4–1 Layerzero官方文档[22]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1350/1*PgIqzxcqMHEZ8Gxb5DFGIA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>此外，之前社区也有推测LayerZero最终会变代币化，因为LayerZero协议在操作过程中存在着质押行为，那些来自中继器的恶意行为会由此而损失质押的$ ZRO 代币。但这只是猜测，还未得到团队的确认。</p>
<h2 id="5-竞争">5. 竞争</h2>
<p>LayerZero是一种全链互操作性协议，专为跨链传递轻量级信息而设计，属于跨链桥赛道，再往下细分的话是一个支持数据消息的传递桥。</p>
<p>5.1 行业概述</p>
<p>去年编者在头等仓发布的《跨链桥赛道解析》中，为方便读者理解，更好的将跨链桥与Polkadot 和 Cosmos 的跨链区分，将跨链桥一律归纳为资产跨链。但是跨链桥经历了一年的发展，现下我们也看到了越来越多的“桥”不在局限于基础的资产跨链，开始在数据传递的领域上探索。</p>
<p>现在其实也不难区分Polkadot 和 Cosmos的跨链与跨链桥的区别。Polkadot 和 Cosmos 本质上都是使用统一框架的链，具备较高的互操作性，同时对框架外的链，不具备任何的跨链优势。这两者的跨链更像是 Layer 0，用户需要基于他们自身的标准才能实现跨链；而对于跨链桥来说，两条链可以有不同的协议，解决了不同资产不同网络之间的资产、数据迁移问题。</p>
<p>之前我们谈论“跨链桥”一词，其实往往都只是局限于“资产跨链”的讨论，即流动性网络或可信的第三方促进代币 X 从链 A 转移到链 B。</p>
<p>然而资产跨链只是链与链通讯之间较容易实现的功能，跨链桥能做的不仅仅只是将Token从链 A 转移到链 B，其中还涉及到了数据层面的通信。沿用此前1kx 研究合伙人Dmitriy Berenzon对跨链桥进行的定义[23]：在抽象层面上，人们可以将“桥”定义为在两个或多个区块链之间传输信息的系统。在这种情况下，信息可以指资产、合约调用、身份证明或状态。</p>
<p>简单的理解，跨链桥是一种链与链连接的桥梁工具，允许将代币、资产、数据从一条链转移到另一条链。两条链可以有不同的协议、规则和治理模型，而桥提供了一种相互通信和兼容的方式来安全地在双方进行互操作。</p>
<p>目前市面上的跨链通信方式主要有3种：1）资产交换；2）资产转移；3）通用通信。</p>
<p>LayerZero作为一个支持数据消息传递的跨链桥，属于上述分类的第3类别。在竞品部分，我们也是着重去对比此类桥。而对于目前市面上常见的资产跨链桥，在本章节不做过多对比分析。</p>
<p>对于支持“数据跨链”的这类桥，此前已有多个致力于跨链领域的开发团队将其称之为“Arbitrary Messaging Bridges (AMBs)”，编者认为其定义较为中肯，因此在下文也将沿用该说法。简单翻译过来就是：任意信息传递桥，这些桥允许任何数据，包括代币、链的状态、合约调用、NFT 或治理投票，从链A转移到链B[24]。</p>
<p>5.2 竞品介绍</p>
<p>目前除了LayerZero，市面上讨论度较高的Arbitrary Messaging Bridges（AMBs）还有：Wormhole、Nomad、Celer Inter-chain Message (IM)、Multichain 的 anyCall和 Axelar等。</p>
<p>5.2.1 Axelar[25]</p>
<p>Axelar是通用型跨链基础协议，其采用跨链网关协议（CGP）、跨链传输协议（CTP），并通过自身POS公链来做见证人链进行任意两条公链的信息传递。目前覆盖以太坊、Cosmos、Avalance等共计15条公链。</p>
<p>运行逻辑：</p>
<p>Axelar网络通过其API与外部区块链搭建，本质上是在其他链搭建智能合约，然后通过本身网络的验证者运行外部区块链的轻节点客户端来监控该智能合约的相关信息，将信息传输到Axelar主网，进行投票验证，验证通过后写入区块，然后在目标链的智能合约履行需求。接下来通过下图来说明相关流程：</p>
<p>图5–1 Axelar网络流程图</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*fFGwVKS7v30hDH43r2o5eA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>上图比较简单的描述了Axelar网络运行流程，但是不够具体，接下来编者通过举例来深入描述一下相关流程：</p>
<p>假设：Axelar与源链A和目标链B都建立网关（智能合约），源链A中的用户想要向目标链B传递资产。通过如下5步：</p>
<p>1）用户通过源链A的网关发起资产跨链申请，信息通过CTP（跨链传输协议）传到Axelar主网。</p>
<p>2）主网的验证者通过门限签名技术在源链A的对源链A上生成一个存款地址，用户将需要跨链的资产数量存入相应地址。</p>
<p>3）Axelar主网运行源链A轻节点客户端的验证者，验证源链A的区块信息，确认资产已经存入相应地址的信息后。</p>
<p>4）返回主网通过Dpos共识机制进行投票，验证者大于90%确认无误后。</p>
<p>5）节点运行目标链B的轻节点客户端再次通过门限签名技术对用户的目标链地址放款。</p>
<p>以上5步是资产在Axelar跨链的流程，至于数据跨链也是大致相同，但是数据跨链较为复杂，官方只是披露具备简单的信息传递，编者感觉其数据跨链可以实现相对静态的数据验证。举个例子，Cosmos链上的借贷平台想要知道你在以太坊上的借贷使用情况来判断你的信誉度，这种可以只要进行简单范围认证是否满足就可以实现。但是这种数据传输作用并没有那么大。相对来说，动态的数据传输可能没办法满足，举个例子，比如Cosmos上的借贷平台想要以Uni上的价格作为清算标准，通过Axelar的跨链网关协议和跨链传输协议来调用这个价格信息，但是这点其实相对比较难以实现，就算可以实现，也不具备时效性。毕竟传输需要时间，需要验证者投票验证。</p>
<p>头等仓观点：Axelar主网整体运作相对简单，流程较为清晰，作为跨链中转站主要是为Cosmos生态和EVM为主的生态跨链。Cosmos生态和EVM生态由于网络编程语言、密钥形式不同，并不能直接跨链。而Axelar网络采用Cosmos SDK底层搭建，本身就可以用IBC进行在Cosmos内部跨链，通过特定的API连接到在EVM形式区块链中的智能合约（网关），可以在中间起到一个转译的作用，将EVM的信息外壳包装为Cosmos需要的消息结构。从而实现两个网络的信息传递[26]。</p>
<p>5.2.2 Wormhole[27]</p>
<p>Wormhole（虫洞）是Solana与Certus.One合作开发的资产跨链工具，于2021年9月22日推出。Wormhole作为一个通用的消息传递协议，可以连接到多个链上，包括以太坊、Solana、Terra、BSC、Polygon、Avalanche、Oasis、Fantom等总计19条链。</p>
<p>运行逻辑：</p>
<p>Wormhole的运行逻辑相对简单，这是一个由 19 个验证者管理的POS网络，其在所有连接的网络上部署了一个核心桥（Core Bridge）合约。Wormhole Guardians（监督者）为每个连接的链运行一个完整的节点，专门监听来自核心合约（Core Contracts）的任何消息。2/3及以上的监督者验证消息并签名，然后将此经过验证的消息中继到目标链，在目标链中处理消息并完成跨链交易。</p>
<p>与其他桥梁不同，Wormhole中的中继没有特殊的权限，它只是一个在Guardians网络和目标链之间传递信息的软件，并不是一个受信任的实体。</p>
<p>头等仓观点：需注意的是，Wormhole 19个验证者的模式相对中心化，而且目前只有18个验证者在运行，原FTX节点已退出[28]。此外，Wormhole 与 Jump Crypto、FTX 和 Solana 生态系统有较为紧密的合作伙伴关系，受FTX暴雷事件影响，其未来发展可能遭受一定程度影响。</p>
<p>5.2.3 Nomad[29]</p>
<p>Nomad 是一个跨链通信协议，使用欺诈证明（类似Optimistic Rollups）进行跨链数据中继。</p>
<p>运行逻辑：</p>
<p>Nomad使应用程序能够在区块链之间发送数据（包括Rollups），应用程序与Nomad核心合约互动，以排队发送消息，之后链外代理验证并在链之间运送这些消息。为了确保消息传递的安全性，Nomad使用了一种optimistic的验证机制，其灵感来自于基于防欺诈（fraud-proof）的设计，如optimistic rollups。</p>
<p>图5–2 Nomad运行流程[30]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*A6fppmm7Us38uvJNcruupQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>Nomad利用位于不同链上的两个合约地址（称为主合约和副本合约）以及四个接受激励的链下不同参与者，实现跨链发送消息。</p>
<p>以用户从以太坊向 Polygon 发送消息为例，具体简化流程如下：</p>
<p>1）以太坊上的用户首先会向以太坊上的主合约地址提交一条消息，主合约采集此消息并将其与接收到的其他消息一起放入Merkle树队列中。</p>
<p>2）此时，更新者（Updater）的链下参与者签署该消息组（Merkle树根）以更新主合约的状态。为了签署这些消息，更新者必须向主合约质押保证金，后续如果证明更新者有任何恶意行为，该保证金将被没收。</p>
<p>3）中继（Relayer）读取此根，并将其转发到目标链Polygon，然后发布到副本合约。</p>
<p>4）中继发布后，会打开一个 30 分钟的防欺诈窗口，在此期间，会有观察者（Watcher）监控以太上的主合约和 Polygon 上的副本合约，以确保所有消息都被正确记录和发送。假设观察者发现恶意行为，则可以证明欺诈并阻止数据通过。</p>
<p>5）如果在 30 分钟的窗口内观察者没有提交欺诈证明，Nomad跨链桥将假定消息已正确记录和发送。这时候处理者（Processor）将消息从Polygon副本合约传播到消息的最终接收者。</p>
<p>头等仓观点：Nomad 为跨链行业引入了一种新的机制：通过optimistic验证的桥，可以在设计空间中以延迟（或速度）换取安全性，在跨链桥领域引入新的权衡。整体上给人一种更“轻”的操作体验，最小信任假设（需要的信任假设更弱）、低成本等等，但代价就是存在持续约30分钟的欺诈证明延时。</p>
<p>基于这一缺陷，Nomad通过与等待跨链桥结算时提供临时流动性的解决方案合作 — — Nomad 与 Connext 合作[31]，在其等待期会激励Connext上的 LP 短期提供流动性。但实际上，Connext上的LP需要承担恶意交易的风险。此外，Nomad此前被盗1.9亿美元，虽然目前已重启，不过对于社区来说，对其信任度终究是打了折扣。</p>
<p>5.2.4 Celer Inter-chain Message (IM)[32]</p>
<p>Celer 跨链消息（Celer Inter-chain Message ，Celer IM）被设计为一种“即插即用”的跨链可组合性解决方案，用于构建跨链 dApp。</p>
<p>运行逻辑：</p>
<p>图5–3 Celer IM运行流程一[33]</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*7RL4069mZy9c6kFpqkRVbA.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>1）用户向dApp发起交易</p>
<p>在Celer IM中，用户现在不是直接与现有的 dApp 智能合约交互，而是与新的 dApp 插件合约交互（上图流程 A），以表达他们执行跨链逻辑的意图。该 dApp 插件成为整个 dApp 业务逻辑的一部分，并可能与源链上现有的智能合约进行交互。这通常是用户为与该跨链 dApp 交互而发送的唯一交易。</p>
<p>2）dApp Plug-in 发送消息并关联跨链转账</p>
<p>在源链上完成必要的操作后，dApp 插件将产生的资金和相关消息发送到目标链（上图流程B、C）。如上图所示，Celer IM 插件合约将用户请求分为两部分：发送到 cBridge 的代币信息和发送到Message Bus的消息信息。</p>
<p>该消息指定需要在目标链上执行的操作。在DEX的例子中，它是 “将跨链的代币B换成代币C，并将代币C给用户”。通过简单地调用sendMessageWithTransfer，消息和资金转移被自动关联在一起。然后消息被发送到Message Bus contract，资金转移通过资产跨链桥发送，在该例中是cBridge。</p>
<p>3）State Guardian Network (SGN) 路由消息和跨链资金转移</p>
<p>首先我们需要先了解SGN是什么 — — SGN 是建立在 Tendermint 上的PoS区块链，充当不同区块链之间的消息路由器。节点提供者必须质押 CELR 代币才能作为验证者加入 SGN 的共识过程。SGN 使用与 Cosmos 和 Polygon PoS 链等 L1 区块链相同的安全机制。SGN 的 CELR staking 和 slashing 机制都是在以太坊 L1 智能合约上实现的。</p>
<p>SGN Staking节点持续监控所有链上发生的交易。MessageBus 和 cBridge 将信息中继到 SGN（流程D、E），在确认消息和代币传输都已在目标链上发生后，SGN 通过签名验证交易，将交易发送至cBridge合约（流程 F）并触发资金转移到目标链的dApp插件合约（流程 G）。</p>
<p>另一方面，验证者将首先就该消息的存在达成共识，并同时生成一个权益加权的多重签名证明。然后，该证明将存储在 SGN 链上，并等待通过订阅该消息（流程 H）的执行者（Executor）中继到目标链。</p>
<p>4）Executor执行跨链应用逻辑</p>
<p>执行者（Executor）的任务是从 SGN 区块链读取权益加权的多重签名证明，并将其简单地中继到目标链上的 Message Bus（流程I）。执行者可以由任何人为任何应用程序运行，因为功能只是中继消息。</p>
<p>Message Bus的功能是检查已证明消息的有效性，并验证 dApp 插件（流程 J）是否确实收到了相关付款。之后，将消息（逻辑执行指令）传递给dApp Plug-in合约，该合约将dApp的跨链业务逻辑托管在目的链（流程 K）上。</p>
<p>dApp Plug-in只需要实现 executeMessageWithTransfer 接口即可。在 DEX 示例中，此函数将在目标链上执行“代币 B 到代币 C 的swap”。</p>
<p>此外，Celer IM并非一定要用资金转移来发送跨链信息或逻辑执行指令。以NFT市场为例，如果用户参加在不同链上进行的拍卖，他们只需要锁定他们的资金，无需将资产实际转移到目标链上，以便进行竞标。只有在他们赢得拍卖后，才需要进行资金转移。流程如下所示：</p>
<p>图5–4 Celer IM运行流程二</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*_DNh9CRliaPC0B6imn3fqQ.png" alt="头等仓研报：全链互操作性协议 LayerZero"></p>
<p>头等仓注：上述流程摘自官方发布的《Celer Inter-chain Message Framework: the Paradigm Shift for Building and Using Multi-blockchain dApps》，部分内容有所删减，详情可见原文（需科学上网）。</p>
<p>头等仓观点：cBridge 2.0的SGN作为公共流动性池后（2022.03），不想运营节点的用户也可以为 cBridge 提供流动性，可以更方便 Layer2 或者其他 Layer1 的项目方在 Celer 上提供流动性，这有利于加大 cBridge 的流动性深度。SGN 作为节点网关和仲裁者也有利于 Bridge 更好提供服务。结合cBridge 2.0的dashboard来看，其TVL在2022年3–4月的确是有一波快速的增长，但是随着5月份的LUNA事件以及后续的市场走熊，目前TVL已下降到1.5–2亿美元区间。</p>
<p>整体上，Celer IM的安全假设建立在其PoS链上，并且有两种安全模型：optimistic-rollup inspired（上述并未介绍，感兴趣的读者可以自行查阅） 和 L1-PoS-blockchain security，用户和开发者可以自由选择和设置。在安全性方面表现较好。此外，虽然cBridge经济模型较v1来看，已经有了不错的改进，但是也是由于其PoS机制，Celer IM 通过质押严重依赖 CELR。Celer IM 的用户必须向 SGN 支付 CELR 的费用，以用于达成跨链共识的服务。如果 CELR 代币价格大幅下跌，SGN 的安全性很可能也会下降[34]。</p>
<p>5.2.5 Multichain 的 anyCall[35]</p>
<p>anyCall是一个用于交换任意数据的通用跨链消息传递基础设施。它由一个智能合约系统和Multichain的SMPC网络，也就是安全多方计算的验证者网络组成。</p>
<p>运行逻辑：</p>
<p>在anyCall中，验证者网络可以访问不同链上的合约，并且在这些合约之间验证传递的信息，并完成信息的接收和传输，由此任何传输信息都会被发送到业务逻辑指定的目标链上，并触发后续实现业务逻辑的智能合约。具体流程如下：</p>
<p>1）dApp需要在链A（源链）上部署一个发送方合约，在链B（目标链）上部署一个接收方合约，在接收方合约上，需要有一个anyExecute函数，它将被调用。</p>
<p>2）当dApp发送消息，调用发送方合约时，anyCall 合约验证消息并将消息中继到目标链。</p>
<p>3）Multichain 的 MPC 网络（由 24 个节点组成），负责对由 anyCall 函数发送到 anyCall 合约的消息进行有效性检查。anyCall 合约存在于所有受支持区块链的公共 MPC 地址中。当 anyCall 函数发送消息时，MPC 节点在将消息发送到目标链之前确保消息的安全性。</p>
<p>4）验证通过后，anyExec 函数从 anyCall 合约接收消息并在目标链上执行请求。</p>
<p>头等仓观点：anyCall的信任假设几乎完全依托于Multichain的MPC网络，因此，用户需要信任节点不会作恶。机制方面相较于同类的AMBs可以说是较为简单，并且中心化程度较高。不过Multichain的规模长期处于所有跨链桥赛道的头部水平。需注意的是，Anyswap在迭代成Multichain前后，均遭受过黑客攻击。</p>
<p>5.3 竞争分析</p>
<p>上述我们列举了5种任意信息传递桥（AMBs），可以看出每种不同模式的跨链桥，各自的权衡也不尽相同。</p>
<p>Axelar、Wormhole 和 Multichain 的 anyCall 都是采用外部验证的手段，通过自身PoS公链/网络来做见证人链进行任意两条公链的信息传递，好处是速度较快、费用较便宜，并允许在任意数量的目标链上与该数据进行交互，可以更容易连接到更多链。不过不足之处在于这种方式是以安全性为代价，需要用户/LP完全信任外部验证器的资金/数据，依赖于桥的安全性，而不是源链或目标链。</p>
<p>具体拆分下去也有区别，比如：在验证者许可性方面，Axelar 全网只允许 50 个验证者作为唯一的活动集，存入代币数量要排进前 50 才能成为正式验证者，不过任何用户都可以将其代币委托给相应的节点；在anyCall中，任何人都可以自己运行一个MPC节点；而在Wormhole中需要有权限的Guardians才能成为验证者。</p>
<p>Celer IM 架构由接收和发送消息的链上智能合约和 Celer PoS网络的组合提供支持，虽然安全假设也是建立在其PoS链上，不过Celer IM有两种安全模型：optimistic-rollup inspired （只要仍然有一个应用程序监督者保持诚实和正常运行，恶意的跨链消息就不会被处理）和 L1-PoS-blockchain security，用户和开发者可以自由选择和设置。</p>
<p>Nomad使用欺诈证明（类似Optimistic Rollups）进行跨链数据中继，在跨链桥领域引入了新的权衡，在设计空间中以延迟（或速度）换取安全性。</p>
<p>此外，不同资金规模的用户对资金效率和安全系统的考量也不尽相同，各个桥着重的领域，都有相应的用户需求。整体上，目前的任意信息传递桥（AMBs）仍处于一个非常早期的阶段，目前难以直接将这些“桥”分个高下，只能说在不同维度各有各的优缺。</p>
<p>上述AMBs的对比，具体可以阅读由 LI.FI 团队成员 Arjun Chand 撰写的《Navigating Arbitrary Messaging Bridges: A Comparison Framework》[36]一文进行了解，该文已从多个维度对上述项目进行了详细的对比，因此本文不再做过多描述。</p>
<p>• LayerZero</p>
<p>对比上述介绍的任意信息传递桥（AMBs），LayerZero与之较大的差异在于其无需在连接的链上运行节点，将验证链上信息传递的负担外包给第三方，例如预言机。这种方式，让协议早期更为轻巧，并且运营成本低。我们现在也看到了LayerZero凭借着自身的优势，在项目早期快速的扩张。</p>
<p>在LayerZero出现之后，为我们开启了另外一条不同的道路，即不仅仅是不断的优化桥的各种性能，而是将链从用户那里抽象出来。</p>
<p>具体来看，之前如果我们要在两条不同的链上进行资产迁移，那么都需要先到第三方跨链桥的UI，将我们的资产跨到目标链，但是在很多时候，跨链桥并不支持我们手中的山寨币跨链，这时我们往往还需要额外的多进行几次swap，才能成功的将资产迁移到目标链上，在操作层面略显繁琐。</p>
<p>而基于LayerZero所构建的Stargate，其核心是让目前的Dapp（如：Uniswap、Sushi此类的DEX）去集成跨链桥协议，然后用户就可以直接通过目前使用的Dapp完成资产的调度、跨链。</p>
<p>比如 SushiSwap 部署在18条链上，如何全局共享一个状态，是比较困难的，如果利用之前的方案，每两个链之间都需要部署一个桥，但是利用 LayerZero 协议的话，只需要通过每个链的 Endpoint 就可以共享全局的状态[37]。</p>
<p>举个例子来说，SushiSwap集成了Stargate后，这时候用户想要将以太坊上的wBTC换成Polygon上的MATIC，在这种情况下，用户可以通过在源链上的单个交易中执行次操作，而无需离开SushiSwap UI。这为SushiSwap、Uniswap等多链Dapp提供了规范化的体验。该点在编者看来是非常理想的跨链方式，极大的改进了目前用户资产跨链的易用性。</p>
<p>那么LayerZero的解决方案就比其他的AMBs来的更好吗？ — — 也不尽然，LayerZero协议的安全性目前仍有待市场验证，而像Axelar、Celer IM这类桥，从头开始搭建一座桥虽然成本高、周期长，不过一定程度上他们也具有更持久的扩展基础和更大的价值累积。Nomad要是没遭遇黑客攻击，其在欺诈证明基础上特有的改进，现在是否会被市场广泛采纳？</p>
<p>总结：</p>
<p>纵观近两年跨链桥赛道的发展脉络，可以看到一条清晰的主线，就是大多数跨链桥项目都是围绕着如何建设更加“健壮的桥”而不断发展着，归根结底也就是如何更好的实现3个要素：安全、无缝、快速。目前赛道仍在不断演化，未来到底谁能成为多链的首选解决方案，才刚拉开序幕。</p>
<p>写在最后，虽然LayerZero具有很强的叙事性，但目前也还有很多细则没有披露完善，相应的也存在着一定的风险（详见产品部分）。而且LayerZero通过预言机和中继传输信息，从而实现跨链的概念，此前Chainlink 发布的跨链互操作性协议 CCIP也早已涉及，从已有的消息显示其未来可能成为LayerZero的有利竞争者。不过CCIP概念在推出后已经销声匿迹了很长一段时间，白皮书也暂未发布，其开发人员似乎一直在埋头开发。关于Chainlink CCIP与LayerZero的对比，此前Pickle和Aylo（笔名）已经做出了较为完善的总结，因此本文不做过多描述，详情可以查阅该文章。</p>
<h2 id="6-风险">6. 风险</h2>
<p>协议安全性</p>
<p>LayerZero的安全性未经充分验证，预言机和中继者彼此之间需要独立运行的信任假设有待商榷，中继机制背后的安全隐患等问题仍需警惕。详情可见上述产品部分 2.4.2 安全性章节。</p>
<p>经济模型暂且未知</p>
<p>LayerZero经济模型暂未推出，仍有待后续进一步观察。</p>
<table>
    <thead>
        <tr>
            <th style="text-align:left">推荐平台</th>
            <th style="text-align:left">链接</th>
            <th style="text-align:left">平台介绍</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Gate芝麻开门</span></td>
            <td style="text-align:left"><span style="white-space:nowrap"><a
                        href="https://www.okbtc.cn/gateio?ref=githubio">平台介绍</a></span></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/gateio?ref=githubio">Gate.io芝麻开门创立于2013年，是全球真实交易量TOP10的加密货币交易平台，向全球数千万用户提供安全可靠、真实透明的数字资产交易服务。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bitget</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bitget?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bitget?ref=githubio">Bitget的背后是一群区块链技术的早期接受者，也是区块链未来发展的信仰者，一直致力于提供安全、一站式的交易解决方案，帮助用户更聪明地交易。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">Bybit</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/bybit?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/bybit?ref=githubio">Bybit通过数字资产与传统金融的结合，引领数字资产的生态发展。提供一流的流动性，致力于打造业内最安全、公平、高效及人性化的交易服务平台。</a>
            </td>
        </tr>
        <tr>
            <td style="text-align:left"><span style="white-space:nowrap">派网</span></td>
            <td style="text-align:left"><a href="https://www.okbtc.cn/pionex?ref=githubio">注册链接</a></td>
            <td style="text-align:left"><a
                    href="https://www.okbtc.cn/pionex?ref=githubio">派网提供多样化的量化交易机器人，用户可依照自身交易需求和策略选择最适合的机器人。 同时派网也提供合约交易与合约网格机器人，给予更方便的合约交易体验。</a>
            </td>
        </tr>
    </tbody>
</table>

        </div>

        
        



        
        


        <footer class="post-footer">
          


          
          <nav class="post-nav">
            
              <a class="prev" href="/post/49709/">
                
                <i class="iconfont">
                  <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

                </i>
                <span class="prev-text nav-default">头部和黑马NFT交易市场最近都在卷什么？</span>
                <span class="prev-text nav-mobile">上一篇</span>
              </a>
            
              <a class="next" href="/post/49722/">
                <span class="next-text nav-default">外部压力下 DeFi之夏还能否重现？</span>
                <span class="prev-text nav-mobile">下一篇</span>
                
                <i class="iconfont">
                  <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      
        
      


      
      


    </div>

    
    <nav class="toc" id="toc">
    <div class="toc-title">文章目录</div>
    <div class="toc-content custom-scrollbar">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#投资概要">投资概要</a></li>
    <li><a href="#1-基本概况">1. 基本概况</a></li>
    <li><a href="#2-项目详解">2. 项目详解</a></li>
    <li><a href="#3-发展">3. 发展</a></li>
    <li><a href="#4-经济模型">4. 经济模型</a></li>
    <li><a href="#5-竞争">5. 竞争</a></li>
    <li><a href="#6-风险">6. 风险</a></li>
  </ul>
</nav>
    </div>
  </nav>


  </div>

      </main>

      <footer id="footer" class="footer">
        <div class="icon-links">
  

<a href="https://www.okbtc.cn/binance?ref=githubio" class="iconfont">
  <img src="/image/logo/binance.png" width="36px" height="36px" alt="binance">
</a>

<a href="https://www.okbtc.cn/okx?ref=githubio" class="iconfont">
  <img src="/image/logo/okx.png" width="36px" height="36px" alt="okx">
</a>

<a href="https://www.okbtc.cn/htx?ref=githubio" class="iconfont">
  <img src="/image/logo/htx.png" width="36px" height="36px" alt="htx">
</a>

<a href="https://www.okbtc.cn/gateio?ref=githubio" class="iconfont">
  <img src="/image/logo/gateio.png" width="36px" height="36px" alt="gateio">
</a>

<a href="https://www.okbtc.cn/bitget?ref=githubio" class="iconfont">
  <img src="/image/logo/bitget.png" width="36px" height="36px" alt="bitget">
</a>

<a href="https://www.okbtc.cn/bybit?ref=githubio" class="iconfont">
  <img src="/image/logo/bybit.png" width="36px" height="36px" alt="bybit">
</a>

<a href="https://www.okbtc.cn/pionex?ref=githubio" class="iconfont">
  <img src="/image/logo/pionex.png" width="36px" height="36px" alt="pionex">
</a>



</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2023
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        coin
        
      </span></span>

  
  

  
</div>

      </footer>

      <div class="button__back-to-top">
        <a href="#back-to-top">
          <i class="iconfont">
            
            <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

          </i>
        </a>
      </div>
    </div>
    
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.5e8c82c5ae3f71b40f78c4ff8ea351326a65ddf5771f76c10c6fc7d09808332d.js" integrity="sha256-XoyCxa4/cbQPeMT/jqNRMmpl3fV3H3bBDG/H0JgIMy0=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











<script>
  var remark_config = {
    host: 'https:\/\/remark42.example.com',
    site_id: 'remark',
    components: [
	    'embed',
    ],
  }
  !function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);
</script>







  </body>
</html>
